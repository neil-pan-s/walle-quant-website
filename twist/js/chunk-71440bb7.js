(self["webpackJsonp"]=self["webpackJsonp"]||[]).push([["chunk-71440bb7"],{"085a":function(e,t,n){},"11f9":function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=65)}({0:function(e,t,n){"use strict";function i(e,t,n,i,r,s,o,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return i}))},10:function(e,t){e.exports=n("52e5")},11:function(e,t){e.exports=n("2200")},12:function(e,t){e.exports=n("6461")},14:function(e,t){e.exports=n("7822")},17:function(e,t){e.exports=n("ddf6")},22:function(e,t){e.exports=n("c86c")},3:function(e,t){e.exports=n("6d2c")},4:function(e,t){e.exports=n("0ba1")},5:function(e,t){e.exports=n("70d4")},65:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.close,expression:"close"}],staticClass:"el-autocomplete",attrs:{"aria-haspopup":"listbox",role:"combobox","aria-expanded":e.suggestionVisible,"aria-owns":e.id}},[n("el-input",e._b({ref:"input",on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur,clear:e.handleClear},nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.highlight(e.highlightedIndex-1)},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.highlight(e.highlightedIndex+1)},function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleKeyEnter(t)},function(t){return!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.close(t)}]}},"el-input",[e.$props,e.$attrs],!1),[e.$slots.prepend?n("template",{slot:"prepend"},[e._t("prepend")],2):e._e(),e.$slots.append?n("template",{slot:"append"},[e._t("append")],2):e._e(),e.$slots.prefix?n("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),e.$slots.suffix?n("template",{slot:"suffix"},[e._t("suffix")],2):e._e()],2),n("el-autocomplete-suggestions",{ref:"suggestions",class:[e.popperClass?e.popperClass:""],attrs:{"visible-arrow":"","popper-options":e.popperOptions,"append-to-body":e.popperAppendToBody,placement:e.placement,id:e.id}},e._l(e.suggestions,(function(t,i){return n("li",{key:i,class:{highlighted:e.highlightedIndex===i},attrs:{id:e.id+"-item-"+i,role:"option","aria-selected":e.highlightedIndex===i},on:{click:function(n){e.select(t)}}},[e._t("default",[e._v("\n        "+e._s(t[e.valueKey])+"\n      ")],{item:t})],2)})),0)],1)},r=[];i._withStripped=!0;var s=n(17),o=n.n(s),a=n(10),c=n.n(a),l=n(12),u=n.n(l),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!e.parent.hideLoading&&e.parent.loading},style:{width:e.dropdownWidth},attrs:{role:"region"}},[n("el-scrollbar",{attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!e.parent.hideLoading&&e.parent.loading?n("li",[n("i",{staticClass:"el-icon-loading"})]):e._t("default")],2)],1)])},d=[];p._withStripped=!0;var h=n(5),f=n.n(h),v=n(4),g=n.n(v),w=n(14),m=n.n(w),b={components:{ElScrollbar:m.a},mixins:[f.a,g.a],componentName:"ElAutocompleteSuggestions",data:function(){return{parent:this.$parent,dropdownWidth:""}},props:{options:{default:function(){return{gpuAcceleration:!1}}},id:String},methods:{select:function(e){this.dispatch("ElAutocomplete","item-click",e)}},updated:function(){var e=this;this.$nextTick((function(t){e.popperJS&&e.updatePopper()}))},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input||this.$parent.$refs.input.$refs.textarea,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created:function(){var e=this;this.$on("visible",(function(t,n){e.dropdownWidth=n+"px",e.showPopper=t}))}},k=b,_=n(0),y=Object(_["a"])(k,p,d,!1,null,null,null);y.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue";var x=y.exports,S=n(11),C=n.n(S),$=n(3),O=n(22),T=n.n(O),I={name:"ElAutocomplete",mixins:[g.a,T()("input"),C.a],inheritAttrs:!1,componentName:"ElAutocomplete",components:{ElInput:c.a,ElAutocompleteSuggestions:x},directives:{Clickoutside:u.a},props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:String,maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},prefixIcon:String,suffixIcon:String,label:String,debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},data:function(){return{activated:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}},computed:{suggestionVisible:function(){var e=this.suggestions,t=Array.isArray(e)&&e.length>0;return(t||this.loading)&&this.activated},id:function(){return"el-autocomplete-"+Object($["generateId"])()}},watch:{suggestionVisible:function(e){var t=this.getInput();t&&this.broadcast("ElAutocompleteSuggestions","visible",[e,t.offsetWidth])}},methods:{getMigratingConfig:function(){return{props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}},getData:function(e){var t=this;this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(e,(function(e){t.loading=!1,t.suggestionDisabled||(Array.isArray(e)?(t.suggestions=e,t.highlightedIndex=t.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))})))},handleInput:function(e){if(this.$emit("input",e),this.suggestionDisabled=!1,!this.triggerOnFocus&&!e)return this.suggestionDisabled=!0,void(this.suggestions=[]);this.debouncedGetData(e)},handleChange:function(e){this.$emit("change",e)},handleFocus:function(e){this.activated=!0,this.$emit("focus",e),this.triggerOnFocus&&this.debouncedGetData(this.value)},handleBlur:function(e){this.$emit("blur",e)},handleClear:function(){this.activated=!1,this.$emit("clear")},close:function(e){this.activated=!1},handleKeyEnter:function(e){var t=this;this.suggestionVisible&&this.highlightedIndex>=0&&this.highlightedIndex<this.suggestions.length?(e.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched&&(this.$emit("select",{value:this.value}),this.$nextTick((function(e){t.suggestions=[],t.highlightedIndex=-1})))},select:function(e){var t=this;this.$emit("input",e[this.valueKey]),this.$emit("select",e),this.$nextTick((function(e){t.suggestions=[],t.highlightedIndex=-1}))},highlight:function(e){if(this.suggestionVisible&&!this.loading)if(e<0)this.highlightedIndex=-1;else{e>=this.suggestions.length&&(e=this.suggestions.length-1);var t=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap"),n=t.querySelectorAll(".el-autocomplete-suggestion__list li"),i=n[e],r=t.scrollTop,s=i.offsetTop;s+i.scrollHeight>r+t.clientHeight&&(t.scrollTop+=i.scrollHeight),s<r&&(t.scrollTop-=i.scrollHeight),this.highlightedIndex=e;var o=this.getInput();o.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)}},getInput:function(){return this.$refs.input.getInput()}},mounted:function(){var e=this;this.debouncedGetData=o()(this.debounce,this.getData),this.$on("item-click",(function(t){e.select(t)}));var t=this.getInput();t.setAttribute("role","textbox"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls","id"),t.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)},beforeDestroy:function(){this.$refs.suggestions.$destroy()}},A=I,E=Object(_["a"])(A,i,r,!1,null,null,null);E.options.__file="packages/autocomplete/src/autocomplete.vue";var L=E.exports;L.install=function(e){e.component(L.name,L)};t["default"]=L}})},"2b43":function(e,t,n){"use strict";n("841a"),n("33ef"),n("11ed"),n("6770"),n("148d");var i=n("e3ca"),r=n.n(i),s=n("f5f2"),o=n("30c6"),a=n("ce37"),c=function(){function e(){Object(s["a"])(this,e),Object(a["a"])(this,"isLoaded",!1),Object(a["a"])(this,"follow",[]),Object(a["a"])(this,"histroy",[]),this.load()}return Object(o["a"])(e,[{key:"target",value:function(e){var t;return"follow"===e&&(t=this.follow),"histroy"===e&&(t=this.histroy),t}},{key:"find",value:function(e,t,n){var i=this.target(e);if(!i)return-1;for(var r=-1,s=0;s<i.length;s++)if(i[s].code===t){r=s;break}return r}},{key:"has",value:function(e,t,n){return-1!==this.find(e,t,n)}},{key:"insert",value:function(e,t,n){var i=this.target(e);if(i)if(n=n||t,"follow"===e&&i.length>200)r.a.info("关注标的不可超过200个标的");else{if("follow"===e){var s=this.find("follow",t,n);if(-1!==s)return;i.unshift({code:t,name:n})}if("histroy"===e){var o=this.find("histroy",t,n);-1===o||i.splice(o,1),i.unshift({code:t,name:n})}"histroy"===e&&i.length>50&&(i=i.slice(0,50)),this.save()}}},{key:"remove",value:function(e,t,n){var i=this.target(e);if(i){var r=this.find(e,t,n);-1!==r&&(i.splice(r,1),this.save())}}},{key:"load",value:function(){var e=localStorage.getItem("TWIST_QUANT_WATCHLIST_DATA");if(e){var t=JSON.parse(e);this.follow=t.follow,this.histroy=t.histroy}this.isLoaded=!0}},{key:"save",value:function(){return localStorage.setItem("TWIST_QUANT_WATCHLIST_DATA",JSON.stringify({follow:this.follow,histroy:this.histroy}))}}]),e}();t["a"]=new c},"3fbd":function(e,t,n){"use strict";var i=n("085a"),r=n.n(i);r.a},7415:function(e,t,n){"use strict";var i=n("b048"),r=n.n(i);r.a},"79ae":function(e,t,n){},"841a":function(e,t,n){"use strict";var i=n("6b1d"),r=n("d054").find,s=n("ed2b"),o=n("ce71"),a="find",c=!0,l=o(a);a in[]&&Array(1)[a]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},b048:function(e,t,n){},d105:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"twist",staticClass:"twist",attrs:{tabindex:"1"}},[e.twist.playback&&e.twist.playback.isInit?n("div",{staticClass:"playback-icon",attrs:{title:"行情回放"}}):e._e(),e.isCube?e._e():n("div",{staticClass:"drawer-icon",staticStyle:{cursor:"pointer"},attrs:{title:"账户和自选表"},on:{click:function(t){e.isShowDrawer=!e.isShowDrawer}}},[n("i",{staticClass:"el-icon-s-operation"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowLink&&!e.isCube,expression:"isShowLink && !isCube"}],staticClass:"link"},[n("a",{attrs:{href:e.linkOf("#/"),target:"_blank"}},[e._v("壹缠")]),e._v(" | "),n("el-dropdown",[n("a",{staticClass:"el-dropdown-link"},[e._v(" 多周期"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{staticClass:"link-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.onSelectCube("levels=min1,min5,min30")}}},[e._v("竖向三周期")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.onSelectCube("levels=min1,min5,min30,day")}}},[e._v("横向四周期")])],1)],1),e._v(" | "),n("a",{attrs:{href:e.linkOf("#/search"),target:"_blank"}},[e._v("买卖点选股器")]),e._v(" | "),n("a",{on:{click:function(t){e.isShowScriptEditor=!e.isShowScriptEditor}}},[e._v("量化策略脚本")]),e._v(" | "),e.screen.width>=1680?n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("center",[n("img",{attrs:{width:"100",src:e.WX_IMG_BASE64}}),n("br"),e._v("添加客服微信进群")])],1),n("a",{attrs:{href:e.linkOf("#/telegram"),target:"_blank",title:"7x24财经快讯社群 & 7x24加密货币快讯社群"}},[e._v("7x24快讯群 | ")])]):e._e(),n("el-dropdown",[n("a",{staticClass:"el-dropdown-link"},[e._v(" 更多"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{staticClass:"link-dropdown more",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("a",{attrs:{href:"/book/缠中说禅-股市技术理论(缠论原文).pdf",target:"_blank"}},[e._v("缠论原文")])]),n("el-dropdown-item",[n("a",{attrs:{href:"https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUzMzY0MTc4OQ==&action=getalbum&album_id=1494635016360919043&scene=173&from_msgid=2247484850&from_itemidx=1&count=3&nolastread=1#wechat_redirect",target:"_blank"}},[e._v("缠论课堂")])]),n("el-dropdown-item",[n("a",{attrs:{href:"https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUzMzY0MTc4OQ==&action=getalbum&album_id=1375469751106977793&scene=173&from_msgid=2247486097&from_itemidx=1&count=3&nolastread=1#wechat_redirect",target:"_blank"}},[e._v("缠解大盘")])])],1)],1)],1),n("ui-menu",{attrs:{visible:e.isShowDrawer,code:e.code},on:{"update:visible":function(t){e.isShowDrawer=t},switchTarget:e.switchTarget}}),e.report?e._e():n("ul",{staticClass:"nav"},[e.ohlcv.close?n("ul",{staticClass:"info"},[n("li",{class:{red:e.ohlcv.close>=e.ohlcv.preclose,green:e.ohlcv.close<e.ohlcv.preclose}},[e._v(e._s(e.code.toUpperCase()))]),n("li",{class:{red:e.ohlcv.close>=e.ohlcv.preclose,green:e.ohlcv.close<e.ohlcv.preclose}},[e._v(e._s(e.ohlcv.name))]),n("li",{class:{red:e.ohlcv.close>=e.ohlcv.preclose,green:e.ohlcv.close<e.ohlcv.preclose}},[e._v(e._s((+e.ohlcv.close).toFixed(2)))]),n("li",{class:{red:e.ohlcv.close>=e.ohlcv.preclose,green:e.ohlcv.close<e.ohlcv.preclose}},[e._v(e._s(((e.ohlcv.close-e.ohlcv.preclose)/e.ohlcv.preclose*100).toFixed(2))+"%")])]):e._e(),n("li",{class:{selected:"sec5"===e.level},on:{click:function(t){return e.switchLevel("sec5")}}},[e._v(" 5S ")]),n("li",{class:{selected:"sec15"===e.level},on:{click:function(t){return e.switchLevel("sec15")}}},[e._v(" 15S ")]),n("li",{class:{selected:"sec30"===e.level},on:{click:function(t){return e.switchLevel("sec30")}}},[e._v(" 30S ")]),n("li",{class:{selected:"min1"===e.level},on:{click:function(t){return e.switchLevel("min1")}}},[e._v(" 1M ")]),n("li",{class:{selected:"min5"===e.level},on:{click:function(t){return e.switchLevel("min5")}}},[e._v(" 5M ")]),n("li",{class:{selected:"min15"===e.level},on:{click:function(t){return e.switchLevel("min15")}}},[e._v(" 15M ")]),n("li",{class:{selected:"min30"===e.level},on:{click:function(t){return e.switchLevel("min30")}}},[e._v(" 30M ")]),n("li",{class:{selected:"min60"===e.level},on:{click:function(t){return e.switchLevel("min60")}}},[e._v(" 1H ")]),n("li",{class:{selected:"min120"===e.level},on:{click:function(t){return e.switchLevel("min120")}}},[e._v(" 2H ")]),n("li",{class:{selected:"min240"===e.level},on:{click:function(t){return e.switchLevel("min240")}}},[e._v(" 4H ")]),n("li",{class:{selected:"day"===e.level},on:{click:function(t){return e.switchLevel("day")}}},[e._v(" DAY ")]),n("li",{class:{selected:"week"===e.level},on:{click:function(t){return e.switchLevel("week")}}},[e._v(" WEEK ")]),n("li",{class:{selected:"month"===e.level},on:{click:function(t){return e.switchLevel("month")}}},[e._v(" MONTH ")]),this.code?n("li",{staticStyle:{cursor:"pointer"},attrs:{title:"搜索标的 简称或代码"},on:{keydown:function(e){e.stopPropagation()},click:function(t){e.$refs.autocomplete&&e.$refs.autocomplete.focus()}}},[n("el-autocomplete",{ref:"autocomplete",staticClass:"suggest inline-input",attrs:{"prefix-icon":"el-icon-search","fetch-suggestions":e.onQuerySuggest,placeholder:"搜索标的","trigger-on-focus":!1},on:{select:e.onSelectSuggest},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return[n("div",{on:{click:function(t){return t.ctrlKey?(t.stopPropagation(),e.onSelectSuggestCtrl(i)):null}}},[e._v(e._s(i.value))])]}}],null,!1,2339109331),model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1):e._e()]),e.report?n("ul",{staticClass:"nav"},[n("ul",{staticClass:"info"},[n("li",{class:{red:e.report.change>0,green:e.report.change<=0}},[e._v(e._s(e.code.toUpperCase())+" "+e._s(e.level.toUpperCase()))]),n("li",{class:{red:e.report.change>0,green:e.report.change<=0}},[e._v("交易次数: "+e._s(e.report.time))]),n("li",{class:{red:e.report.change>0,green:e.report.change<=0}},[e._v("涨幅收益: "+e._s(e.report.change)+"% ")]),n("li",{class:{red:e.report.profit>0,green:e.report.profit<=0}},[e._v("点数收益: "+e._s(e.report.profit)+" ")]),n("li",{class:{red:e.report.winrate>0,green:e.report.winrate<=0}},[e._v("胜率: "+e._s(e.report.winrate)+"% ")]),n("li",{class:{red:e.report.earnrate>0,green:e.report.earnrate<=0}},[e._v("平均收益率: "+e._s(e.report.earnrate)+"% ")])])]):e._e(),n("ui-kchart",{ref:"kchart",staticClass:"ui-kchart",attrs:{"show-volume":e.isShowVolume,indicator:e.indicator}}),n("ui-script",{attrs:{show:e.isShowScriptEditor},on:{"update:show":function(t){e.isShowScriptEditor=t},keydown:function(e){e.stopPropagation()}}})],1)},r=[],s=(n("d6de"),n("8d0f"),n("68b8"),n("d86f"),n("8d0d"),n("beb4"),n("33ef"),n("868d"),n("11fd"),n("ef1f"),n("2aa5"),n("c78b"),n("f3b8"),n("32f5"),n("defa"),n("918c"),n("b151"),n("0b38")),o=n("cf28"),a=n("56d4"),c=n.n(a),l=(n("df26"),n("42c2")),u=(n("f644"),n("148d"),n("bb6a")),p=n.n(u),d=(n("f09a"),n("5809")),h=n.n(d),f=(n("456f"),n("aeb2")),v=n.n(f),g=(n("8973"),n("4303")),w=n.n(g),m=(n("79ae"),n("11f9")),b=n.n(m),k=n("f9b5"),_=n("2b43"),y=n("ead5"),x=n("f7a6"),S=n("60d2"),C=n("4f2b");C["default"].prototype.$ELEMENT={size:"mini",zIndex:3e3},C["default"].component(b.a.name,b.a),C["default"].component(w.a.name,w.a),C["default"].component(v.a.name,v.a),C["default"].component(h.a.name,h.a),C["default"].component(p.a.name,p.a);var $=window.top.__Walle_Devtools,O={data:function(){return{keywords:"",klines:[],twist:{},report:null,key:"",code:"",ohlcv:{},level:"day",interval:null,indicator:"",isShowVolume:!1,isShowLink:!1,isShowDrawer:!1,isShowScriptEditor:!1,isCube:!1,screen:{width:window.innerWidth,height:window.innerHeight},WX_IMG_BASE64:S["a"]}},mounted:function(){var e=this;return Object(l["a"])(c.a.mark((function t(){var n,i,r,s,o,a;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.query,i=n.level,r=void 0===i?"day":i,s=n.volume,o=n.interval,a=n.isCube,a&&(e.isCube=!0,k["a"].setSlient(!0)),e.key=e.$route.query.key||"",e.code=e.$route.params.code||"sh000001",e.indicator=e.$route.params.indicator||"","twist"===e.code&&(e.code="sh000001"),e.code.toLowerCase().startsWith("sh")||e.code.toLowerCase().startsWith("sz")||k["a"].isVip()){t.next=9;break}return k["a"].notification("加密货币&期货&港美股行情 需开通VIP服务 请联系客服微信"),t.abrupt("return");case 9:if(k["a"].isUser()||"sh000001"===e.code){t.next=12;break}return k["a"].notification("非注册用户仅限访问上证指数 请联系客服微信 申请免费沪深市场试用权限"),t.abrupt("return");case 12:if(e.level=r,o&&(e.interval=o),e.isShowVolume=!!s,e.ohlcv={},void 0===e.$route.query.backtest){t.next=20;break}return t.next=19,e.initBacktest();case 19:return t.abrupt("return");case 20:return t.next=22,e.init();case 22:return t.next=24,e.initPlayback();case 24:x["a"].initHook(),setTimeout((function(){e.isShowLink=!0}),3e3),window.addEventListener("resize",(function(){e.screen={width:window.innerWidth,height:window.innerHeight}}));case 27:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.twist.crawler&&this.twist.crawler.stop()},methods:{init:function(){var e=this;return Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.ohlcv={},x["a"].hook("update",e.code,e.level),e.twist.crawler&&e.twist.crawler.stop(),e.twist=window.__Walle_Stock_Twist.create(e.code,k["a"].vip()),e.twist.processor.setIndicatorType(e.indicator),t.next=7,e.twist.crawler.loop(e.interval,Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.twist.playback.isInit){t.next=2;break}return t.abrupt("return");case 2:e.updateChart({isZoom:!1});case 3:case"end":return t.stop()}}),t)}))));case 7:return t.next=9,e.twist.crawler.ohlcv((function(t){e.ohlcv=t,x["a"].hook("tick",e.code,t)}));case 9:setTimeout((function(){e.$nextTick((function(){return e.updateChart({isZoom:!0})}))}),1e3),setTimeout((function(){(e.ohlcv.name||e.ohlcv.close)&&_["a"].insert("histroy",e.code,e.ohlcv.name)}),3e3);case 11:case"end":return t.stop()}}),t)})))()},initPlayback:function(){var e=this;return Object(l["a"])(c.a.mark((function t(){var n,i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(k["a"].isVip()){t.next=2;break}return t.abrupt("return");case 2:n=e.$route.query.offset||-240,i=e.$route.query.speed||600,e.twist.playback.reset({offset:n,speed:i}),e.twist.playback.hook("klines",Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.twist.crawler.kline(e.level));case 1:case"end":return t.stop()}}),t)})))),e.twist.playback.listen(e.$refs.twist),e.twist.playback.on("start",(function(t,n){e.twist.strategy.reset(),e.updateChart({klines:n,isZoom:!0})})),e.twist.playback.on("update",(function(t,n){return e.updateChart({klines:n,isZoom:!1})})),e.twist.playback.on("end",(function(){return e.updateChart({isZoom:!0})})),e.twist.playback.on("quit",(function(){e.twist.strategy.reset(),e.updateChart({isZoom:!0})}));case 11:case"end":return t.stop()}}),t)})))()},initBacktest:function(){var e=this;return Object(l["a"])(c.a.mark((function t(){var n,i,r,s,o;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if($){t.next=2;break}return t.abrupt("return");case 2:return n=e.$route.query.backtest||"default",i=e.$route.query.level||e.level||"min5",r=e.$route.query.direction||"up",s=window.__Walle_Stock_Twist.create(e.code),t.next=8,s.crawler.kline(i);case 8:return o=t.sent,t.next=11,s.backtest.run({klines:o,name:n});case 11:e.report=s.backtest.toReport(r),e.$refs.kchart&&e.$refs.kchart.update(o,s.backtest.toPoints(),!0);case 13:case"end":return t.stop()}}),t)})))()},notification:function(e,t){var n=this;return Object(l["a"])(c.a.mark((function i(){var r,s,o,a,l,u;return c.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=k["a"].isSVip(),r){i.next=3;break}return i.abrupt("return");case 3:if(e){i.next=5;break}return i.abrupt("return");case 5:if(e.type,s=e.kline,o=e.tip,a=e.trade,l="TWIST TRADE NOTIFICATION",u="".concat(n.code.toUpperCase()," ").concat(n.ohlcv.name," ").concat((+n.ohlcv.close).toFixed(2)," ").concat(n.level.toUpperCase()," ").concat(a?a+"("+o+")":o),!n.twist.playback.isInit&&a&&y["a"].notification({symbol:n.code.toUpperCase(),name:n.ohlcv.name,level:n.level.toUpperCase(),signal:t,kline:s,description:u}),!n.level.includes("sec")||a){i.next=11;break}return i.abrupt("return");case 11:$&&window.__Walle_Stock_Twist.Notification.show(l,u);case 12:case"end":return i.stop()}}),i)})))()},onQuerySuggest:function(e,t){return Object(l["a"])(c.a.mark((function n(){var i,r,s,a,l,u,p,d,h,f,v,g,w,m,b,k,_,y;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([window.__Walle_Stock_Twist.Crawler.huobi.suggest(e),window.__Walle_Stock_Twist.Crawler.okex.suggest(e),window.__Walle_Stock_Twist.Crawler.sina.suggest(e)]);case 2:for(i=n.sent,r=Object(o["a"])(i,3),s=r[0],r[1],a=r[2],l=[],u=!0,p=!1,d=void 0,n.prev=11,h=s[Symbol.iterator]();!(u=(f=h.next()).done);u=!0)v=f.value,g=v.symbol.replace("huobi-",""),l.push({value:v.name+" "+g.toUpperCase(),name:v.name,code:g});n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](11),p=!0,d=n.t0;case 19:n.prev=19,n.prev=20,u||null==h["return"]||h["return"]();case 22:if(n.prev=22,!p){n.next=25;break}throw d;case 25:return n.finish(22);case 26:return n.finish(19);case 27:for(w=!0,m=!1,b=void 0,n.prev=30,k=a[Symbol.iterator]();!(w=(_=k.next()).done);w=!0)y=_.value,l.push({value:y.name+" "+y.code.toUpperCase(),name:y.name,code:y.code});n.next=38;break;case 34:n.prev=34,n.t1=n["catch"](30),m=!0,b=n.t1;case 38:n.prev=38,n.prev=39,w||null==k["return"]||k["return"]();case 41:if(n.prev=41,!m){n.next=44;break}throw b;case 44:return n.finish(41);case 45:return n.finish(38);case 46:t(l);case 47:case"end":return n.stop()}}),n,null,[[11,15,19,27],[20,,22,26],[30,34,38,46],[39,,41,45]])})))()},onSelectSuggest:function(e){var t=this;return Object(l["a"])(c.a.mark((function n(){var i;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.name,i=e.code,t.keywords="",t.switchTarget(i);case 3:case"end":return n.stop()}}),n)})))()},onSelectSuggestCtrl:function(e){var t=this;return Object(l["a"])(c.a.mark((function n(){var i,r,s,o;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.name,i=e.code,t.keywords="",r=window.top.location.origin+window.top.location.pathname,s=t.$router.resolve({name:t.indicator?"indicator":"twist",params:{code:i},query:t.$route.query}),o=s.href.slice(s.href.indexOf("#")),window.open(r+o);case 6:case"end":return n.stop()}}),n)})))()},onSelectCube:function(e){var t=this;return Object(l["a"])(c.a.mark((function n(){var i;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(k["a"].isSVip()){n.next=3;break}return k["a"].notification("多周期行情 需开通SVIP服务 请联系客服微信"),n.abrupt("return");case 3:i=t.linkOf("#/cube/"+t.code,e),window.open(i);case 5:case"end":return n.stop()}}),n)})))()},switchTarget:function(e){var t=this;return Object(l["a"])(c.a.mark((function n(){return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.code!==e){n.next=2;break}return n.abrupt("return");case 2:if(e.toLowerCase().startsWith("sh")||e.toLowerCase().startsWith("sz")||k["a"].isVip()){n.next=5;break}return k["a"].notification("加密货币&期货&港美股行情 需开通VIP服务 请联系客服微信"),n.abrupt("return");case 5:if(k["a"].isUser()||"sh000001"===e){n.next=8;break}return k["a"].notification("非注册用户仅限访问上证指数 请联系客服微信 申请免费沪深市场试用权限"),n.abrupt("return");case 8:return t.code=e,t.$router.replace({name:t.indicator?"indicator":"twist",params:{code:e},query:t.$route.query}),window.dispatchEvent(new CustomEvent("hashchange")),n.next=13,t.twist.playback.quit();case 13:return n.next=15,t.init();case 15:return n.next=17,t.initPlayback();case 17:case"end":return n.stop()}}),n)})))()},switchLevel:function(e){!["sec5","sec15","sec30"].includes(e)||k["a"].isVip()?(this.level=e,this.twist.strategy.reset(),this.twist.playback.quit(),x["a"].hook("update",this.code,this.level),this.updateChart({isZoom:!0})):k["a"].notification("秒级别K线需开通VIP服务 请联系客服微信")},linkOfTarget:function(e){var t=window.top.location.origin+window.top.location.pathname;return t=t+"#/"+e+"/"+this.code,this.key&&(t+="?key="+this.key),t},linkOf:function(e,t){var n=window.top.location.origin+window.top.location.pathname;return"#/"===e?n+e:(e&&(n+=e),this.$route.query.key&&(n+="?key="+this.$route.query.key),t&&(n.includes("?")?n+="&"+t:n+="?"+t),n)},updateChart:function(e){var t=this;return Object(l["a"])(c.a.mark((function n(){var i,r,o,a,l,u,p,d,h,f,v,g,w;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.klines,r=void 0===i?null:i,o=e.isZoom,a=void 0===o||o,r){n.next=5;break}return n.next=4,t.twist.crawler.kline(t.level);case 4:r=n.sent;case 5:if(r.length){n.next=9;break}return t.klines=[],t.$refs.kchart&&t.$refs.kchart.showLoading(),n.abrupt("return");case 9:r=r.slice(-5e3),n.prev=10,l=a?t.twist.processor.parse(r):t.twist.processor.update(r),u=t.twist.processor.state(),p=t.twist.processor.pattern(),d=t.twist.strategy.process(r,l,u),t.twist.nest.process(t.code,t.level,u,p,d,r),t.notification(d,p?p.state:null),h=t.twist.processor.toPoints(),f=$?t.twist.processor.sequence():[],v=$?t.twist.processor.line():[],g=$?t.twist.strategy.toPoints(r):[],!t.klines.length&&r.length&&(a=!0),t.klines=r,w=[],x["a"].hook("kline",t.code,t.level,r,l,w),t.$refs.kchart&&t.$refs.kchart.setCustomSeries(w),t.$refs.kchart&&t.$refs.kchart.update(r,Object(s["a"])({},h,{pin:g,line:v,sequence:f}),a),n.next=36;break;case 29:n.prev=29,n.t0=n["catch"](10),!t.klines.length&&r.length&&(a=!0),t.klines=r,t.$refs.kchart&&t.$refs.kchart.update(r,null,a),n.next=36;break;case 36:case"end":return n.stop()}}),n,null,[[10,29]])})))()}}},T=O,I=(n("7415"),n("3fbd"),n("2be6")),A=Object(I["a"])(T,i,r,!1,null,"b128bbf0",null);t["default"]=A.exports},f644:function(e,t,n){}}]);