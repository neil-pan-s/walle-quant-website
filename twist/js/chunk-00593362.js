(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00593362"],{"2b43":function(e,t,i){"use strict";i("841a"),i("33ef"),i("11ed");var s=i("56d4"),n=i.n(s),r=(i("df26"),i("42c2")),a=(i("6770"),i("148d"),i("e3ca")),o=i.n(a),l=i("f5f2"),c=i("30c6"),u=i("ce37"),d=function(){function e(){Object(l["a"])(this,e),Object(u["a"])(this,"isLoaded",!1),Object(u["a"])(this,"follow",[]),Object(u["a"])(this,"histroy",[]),this.load()}return Object(c["a"])(e,[{key:"target",value:function(e){var t;return"follow"===e&&(t=this.follow),"histroy"===e&&(t=this.histroy),t}},{key:"find",value:function(e,t,i){var s=this.target(e);if(!s)return-1;for(var n=-1,r=0;r<s.length;r++)if(s[r].code===t){n=r;break}return n}},{key:"has",value:function(e,t,i){return-1!==this.find(e,t,i)}},{key:"insert",value:function(e,t,i){var s=this.target(e);if(s)if(i=i||t,"follow"===e&&s.length>50)o.a.info("关注标的不可超过50个标的");else{if("follow"===e){var n=this.find("follow",t,i);if(-1!==n)return;s.unshift({code:t,name:i})}if("histroy"===e){var r=this.find("histroy",t,i);-1===r||s.splice(r,1),s.unshift({code:t,name:i})}"histroy"===e&&s.length>50&&(s=s.slice(0,50)),this.save()}}},{key:"remove",value:function(e,t,i){var s=this.target(e);if(s){var n=this.find(e,t,i);-1!==n&&(s.splice(n,1),this.save())}}},{key:"load",value:function(){var e=Object(r["a"])(n.a.mark((function e(){var t,i;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=localStorage.getItem("TWIST_QUANT_WATCHLIST_DATA"),t&&(i=JSON.parse(t),this.follow=i.follow,this.histroy=i.histroy),this.isLoaded=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(r["a"])(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem("TWIST_QUANT_WATCHLIST_DATA",JSON.stringify({follow:this.follow,histroy:this.histroy})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new d},"841a":function(e,t,i){"use strict";var s=i("6b1d"),n=i("d054").find,r=i("ed2b"),a=i("ce71"),o="find",l=!0,c=a(o);o in[]&&Array(1)[o]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!c},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},"8c58":function(e,t,i){"use strict";var s=i("e23e"),n=i.n(s);n.a},"9ddb":function(e,t,i){},bbd5:function(e,t,i){e.exports=function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=96)}({0:function(e,t,i){"use strict";function s(e,t,i,s,n,r,a,o){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return s}))},15:function(e,t){e.exports=i("9c67")},4:function(e,t){e.exports=i("0ba1")},96:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-drawer__container",class:e.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[i("div",{ref:"drawer",staticClass:"el-drawer",class:[e.direction,e.customClass],style:e.isHorizontal?"width: "+e.size:"height: "+e.size,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":e.title,role:"dialog",tabindex:"-1"}},[e.withHeader?i("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[e._t("title",[i("span",{attrs:{role:"heading",title:e.title}},[e._v(e._s(e.title))])]),e.showClose?i("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(e.title||"drawer"),type:"button"},on:{click:e.closeDrawer}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2):e._e(),e.rendered?i("section",{staticClass:"el-drawer__body"},[e._t("default")],2):e._e()])])])])},n=[];s._withStripped=!0;var r=i(15),a=i.n(r),o=i(4),l=i.n(o),c={name:"ElDrawer",mixins:[a.a,l.a],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(e){return-1!==["ltr","rtl","ttb","btt"].indexOf(e)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:String,default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement):(this.closed||this.$emit("close"),this.$nextTick((function(){t.prevActiveElement&&t.prevActiveElement.focus()})))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open())},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},u=c,d=i(0),f=Object(d["a"])(u,s,n,!1,null,null,null);f.options.__file="packages/drawer/src/main.vue";var h=f.exports;h.install=function(e){e.component(h.name,h)};t["default"]=h}})},e23e:function(e,t,i){},fba7:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{"custom-class":"twist-drawer",visible:e.isVisible,direction:"ltr"},on:{"update:visible":function(t){e.isVisible=t},close:function(t){return e.$emit("update:visible",!1)}}},[i("div",{staticClass:"drawer-box"},[e.user.vip?i("ul",{staticClass:"user"},[i("li",{attrs:{title:"用户名"}},[i("i",{staticClass:"el-icon-user"}),e._v(" "+e._s(e.user.id)+" "),i("span",{attrs:{title:"用户等级"}},[i("i",{staticClass:"el-icon-medal vip"}),e._v(" "+e._s(e.user.vip.toUpperCase()))])]),i("li",{attrs:{title:"服务起止时间"}},[i("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(e.user.sdate)+"~"+e._s(e.user.edate))])]):e._e(),i("h4",[i("span",{staticClass:"title"},[e._v("关注标的 ( "+e._s(e.follow.length)+" )")]),i("ul",{staticClass:"markets"},[i("li",{class:{selected:"all"===e.market},on:{click:function(t){e.market="all"}}},[e._v("全市场")]),i("li",{class:{selected:"cn"===e.market},on:{click:function(t){e.market="cn"}}},[e._v("沪深")]),i("li",{class:{selected:"hk"===e.market},on:{click:function(t){e.market="hk"}}},[e._v("港股")]),i("li",{class:{selected:"us"===e.market},on:{click:function(t){e.market="us"}}},[e._v("美股")]),i("li",{class:{selected:"coin"===e.market},on:{click:function(t){e.market="coin"}}},[e._v("加密货币")]),i("li",{class:{selected:"other"===e.market},on:{click:function(t){e.market="other"}}},[e._v("期货和其他")])])]),i("ul",{staticClass:"watchlist"},e._l(e.follow,(function(t){return i("li",{directives:[{name:"show",rawName:"v-show",value:e.isCurMarket(t.code),expression:"isCurMarket(item.code)"}],key:t.code,class:{selected:e.code===t.code}},[i("span",{staticClass:"name-wrap"},[i("span",{staticClass:"name",attrs:{title:"点击访问标的走势"},on:{click:function(i){return e.$emit("switchTarget",t.code)}}},[e._v(e._s(t.name.toUpperCase()))])]),i("span",{attrs:{title:"点击访问标的走势"},on:{click:function(i){return e.$emit("switchTarget",t.code)}}},[e._v(e._s(t.code.toUpperCase()))]),i("span",{attrs:{title:"取消关注"},on:{click:function(i){return e.watchlist.remove("follow",t.code)}}},[i("i",{staticClass:"el-icon-close star"})])])})),0),i("h4",[i("span",{staticClass:"title"},[e._v("近期浏览 ( "+e._s(e.histroy.length)+" )")])]),i("ul",{staticClass:"histroy"},e._l(e.histroy,(function(t){return i("li",{key:t.code},[i("span",{staticClass:"name-wrap"},[i("span",{staticClass:"name",attrs:{title:"点击访问标的走势"},on:{click:function(i){return e.$emit("switchTarget",t.code)}}},[e._v(e._s(t.name.toUpperCase()))])]),i("span",{attrs:{title:"点击访问标的走势"},on:{click:function(i){return e.$emit("switchTarget",t.code)}}},[e._v(e._s(t.code.toUpperCase()))]),i("span",{attrs:{title:"关注标的"},on:{click:function(i){return e.watchlist.insert("follow",t.code,t.name)}}},[i("i",{class:{"el-icon-star-off":!e.watchlist.has("follow",t.code,t.name),"el-icon-star-on":e.watchlist.has("follow",t.code,t.name),star:!0}})])])})),0)])])},n=[],r=(i("8d0d"),i("868d"),i("9a51"),i("c78b"),i("defa"),i("9ddb"),i("148d"),i("bbd5")),a=i.n(r),o=i("f9b5"),l=i("2b43"),c=i("4f2b");c["default"].component(a.a.name,a.a);var u={props:["visible","code"],data:function(){return{user:{id:"",sdate:"",edate:"",vip:""},market:"all",follow:[],histroy:[],watchlist:l["a"],isVisible:!1}},watch:{visible:function(e){this.isVisible=e}},mounted:function(){this.follow=l["a"].follow,this.histroy=l["a"].histroy,o["a"].isVip()&&(this.user.id=o["a"].user.id,this.user.sdate=o["a"].user.sdate,this.user.edate=o["a"].user.edate,this.user.vip=o["a"].vip())},methods:{isCurMarket:function(e){return"all"===this.market||this.market===this.marketType(e)},marketType:function(e){return e=e.toUpperCase(),e.startsWith("SH")||e.startsWith("SZ")||e.endsWith(".XSHG")||e.endsWith(".XSHE")?"cn":e.startsWith("HK")?"hk":e.startsWith("$")?"us":e.includes("-")?"coin":"other"}}},d=u,f=(i("8c58"),i("2be6")),h=Object(f["a"])(d,s,n,!1,null,null,null);t["default"]=h.exports}}]);