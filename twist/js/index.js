(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],h=0,l=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&l.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(l.length)l.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var o=n[s];0!==i[o]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},s={index:0},i={index:0},a=[];function o(t){return c.p+"js/"+({}[t]||t)+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-16ce81a0":1,"chunk-88927d58":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+".css",i=c.p+r,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var u=a[o],h=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(h===r||h===i))return e()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){u=l[o],h=u.getAttribute("data-href");if(h===r||h===i)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete s[t],p.parentNode.removeChild(p),n(a)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){s[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=i[t]=[e,n]}));e.push(r[2]=a);var u,h=document.createElement("script");h.charset="utf-8",h.timeout=120,c.nc&&h.setAttribute("nonce",c.nc),h.src=o(t);var l=new Error;u=function(e){h.onerror=h.onload=null,clearTimeout(p);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",l.name="ChunkLoadError",l.type=r,l.request=s,n[1](l)}i[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:h})}),12e4);h.onerror=h.onload=u,document.head.appendChild(h)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],h=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var p=h;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("1d50")},1:function(t,e){},"1d50":function(t,e,n){"use strict";n.r(e);n("9531"),n("26d3d"),n("2007"),n("41ab");var r=n("4f2b"),s=(n("ef1f"),n("5f2b"));r["default"].use(s["a"]),r["default"].component("ui-twist",(function(){return n.e("chunk-88927d58").then(n.bind(null,"d105"))})),r["default"].component("ui-kchart",(function(){return n.e("chunk-16ce81a0").then(n.bind(null,"a5dd"))}));var i=new s["a"]({routes:[{path:"/:code",component:{template:"<ui-twist></ui-twist>"}},{path:"*",component:{template:"<ui-twist></ui-twist>"}}]}),a=i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"walle-app"}},[n("router-view")],1)},c=[],u={name:"app"},h=u,l=(n("e5cd"),n("2be6")),p=Object(l["a"])(h,o,c,!1,null,null,null),f=p.exports,d=(n("d86f"),n("2aa5"),n("2c93"),n("56d4")),v=n.n(d),b=(n("df26"),n("42c2")),y=n("f5f2"),g=n("30c6"),k=n("ce37"),w=(n("7004"),n("0d9f"),n("32f5"),n("1adc")),m=n.n(w),j=(n("868d"),n("b151"),function(t){return new Promise((function(e){setTimeout(e,t)}))});function x(t){return Object(b["a"])(v.a.mark((function e(){var n,r,s,i=arguments;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n>=3)){e.next=4;break}return e.abrupt("break",20);case 4:return console.log("#RetryWrapper# ".concat(t.name," call ").concat(n," time")),e.prev=5,e.next=8,t.apply(void 0,i);case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e["catch"](5),s=e.t0,e.next=17,j(3e3);case 17:n++,e.next=1;break;case 20:throw s;case 21:case"end":return e.stop()}}),e,null,[[5,12]])})))}var O=x,_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return window.parent.__Walle_Devtools?window.parent.__Walle_Devtools_Ajax({type:t,url:e,data:n,opts:r}):window.__Walle_Devtools?window.__Walle_Devtools_Ajax({type:t,url:e,data:n,opts:r}):new Promise((function(s,i){console.log("#ajax# request - ".concat(t," - ").concat(e," "),n),m.a.ajax(Object.assign({type:t,url:e,data:n,async:r.async||!0,dataType:r.dataType||"html",success:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,e)},error:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).log.apply(t,["#ajax# fail - "].concat(n)),i.apply(void 0,n)}},r))}))},S=function(t,e){var n;return t?(n="application/json"===e.contentType?JSON.stringify(t):m.a.param(t),n):t},C=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S(e,n);return _("POST",t,r,n)},L=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S(e,n);return O((function(){return _("GET",t,r,n)}))()},M=function(t){return new Promise((function(e,n){var r=document.createElement("img");r.src=t,r.onload=function(){return e(r)},r.onerror=n,r.onabort=n}))},E=function(t){return window.parent.__Walle_Devtools?window.parent.__Walle_Devtools_Download({url:t}):window.__Walle_Devtools?window.__Walle_Devtools_Download({url:t}):new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){return e(r.response)},r.onerror=n,r.send(null)}))},G={ajax:_,post:C,get:L,getImage:M,getBinary:E};function K(t,e){return T.apply(this,arguments)}function T(){return T=Object(b["a"])(v.a.mark((function t(e,n){var r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=document.querySelector("#scripts"),r?r.innerHTML="":(r=document.createElement("div"),r.setAttribute("id","scripts"),document.body.appendChild(r)),t.abrupt("return",q(e,(function(){r.innerHTML="",n&&n()}),r));case 3:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function q(t,e,n){return P.apply(this,arguments)}function P(){return P=Object(b["a"])(v.a.mark((function t(e,n,r){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,s){var i=document.createElement("script");i.type="text/javascript",i.src=e,i.onload=function(){t(),n&&n()},i.onerror=function(t){s(t)},(r||document.body).appendChild(i)})));case 1:case"end":return t.stop()}}),t)}))),P.apply(this,arguments)}var z=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"requestType","jsonp"),Object(k["a"])(this,"_wss",void 0)}return Object(g["a"])(t,[{key:"use",value:function(t,e){this.requestType=t,e&&(this._wss=e)}},{key:"capture",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,n,r){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return",this[r](e,n));case 2:return t.abrupt("return",this[this.requestType](e,n));case 3:case"end":return t.stop()}}),t,this)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{key:"ajax",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",G.get(e));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"jsonp",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n,r=arguments;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"_",t.next=3,K(e);case 3:return t.abrupt("return",JSON.stringify(window[n]));case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"node",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var s=n("2f61"),i="",a=s.get(e,(function(e){e.on("data",(function(t){i+=t.toString()})),e.on("end",(function(){t(i)}))}));a.on("error",r)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"wss",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,n){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=n.replace("hq_str_",""),t.abrupt("return",this._wss.response(n));case 2:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}();n("8d0d"),n("33ef"),n("c78b");function D(t){"1.000001"===t&&(t="sh000001");var e=t.slice(0,2).toLowerCase();return["sz","00","30","12"].includes(e)?"sz":["sh","60","68","11"].includes(e)?"sh":void 0}function F(t){var e=t.replace(/\d+/g,"").toLowerCase(),n=["ss","zn","al","cu","rb","bu","pb","hc","fu","ni","au","ru","wr","ag","sp","sn"],r=["nr","sc","lu","bc"],s=["m","b","a","i","v","l","jd","eb","pp","c","cs","jm","rr","j","y","pg","fb","p","eg","lh","bb"],i=["rm","ma","sa","cj","cy","fg","rs","ri","cf","wh","jr","sm","sr","ta","zc","pf","oi","sf","ap","pk","ur"],a=["tm","tf","ts","ic","if","ih"];return[].concat(n,r,s,i,a).includes(e)}function W(t){var e=["diniw","usdcny","eurusd","gbpusd","usdjpy","audusd","usdcad","usdchf","usdhkd","usdsgd","usdtwd","usdmyr","eurcny","jpycny","hkdcny","gbpcny","audcny","nzdcny","sgdcny","chfcny","cadcny","cnyjpy","cnykrw","cnyrub","cnymyr"];return e.includes(t.toLowerCase())}function H(t){var e=["btcbitstamp","btcokcoin","btcbtcusd","btcethusd","btceosusd","btcltcusd","btcbchusd","btcxrpusd","btcusdtusd","btcetcusd","btcwf","btcadausd","btcbnbusd","btcxlmusd","btczrxusdt","btciostusdt","btciotusd","btcontusdt","btcqtumusd","btchotusdt","btctrxusd","btcthetausdt","btcpaxusdt","btcvenusd","btczecusd","btcbttusdt","btcdgdusd","btcenjusdt","btcneousd","btczilusdt","btciotausdt","btcxmrusd","btctfuelusd","btcsntusd","btctusdusdt","btcusdcusdt","btctfuelusdt","btcicxusd","btcdashusd"];return e.includes(t.toLowerCase())}n("62c8");var N=function(){function t(e){Object(y["a"])(this,t),"1.000001"===e&&(e="sh000001"),this.code=e}return Object(g["a"])(t,[{key:"use",value:function(t){this.request=t}},{key:"handle",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,n){var r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.request.capture(e,"hq_str_"+n);case 2:return r=t.sent,r.includes('"')&&(r=r.split('"')[1]),t.abrupt("return",r.split(","));case 5:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"captureCnStock",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.code.toLowerCase(),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:return r=t.sent,t.abrupt("return",{name:r[0],open:r[1],preclose:r[2],close:r[3],high:r[4],low:r[5],volume:r[8]});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureCnFuture",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="nf_".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:if(r=t.sent,50!==r.length){t.next=7;break}return t.abrupt("return",{name:r[49],open:r[0],preclose:r[14],close:r[3],high:r[1],low:r[2],volume:r[4]});case 7:return t.abrupt("return",{name:r[0],open:r[2],preclose:r[10],close:r[8],high:r[3],low:r[4],volume:r[14]});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureGlobalFuture",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="hf_".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:return r=t.sent,t.abrupt("return",{name:r[13],open:r[8],preclose:r[7],close:r[0],high:r[4],low:r[5],volume:r[14]});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureGlobalForex",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:return r=t.sent,t.abrupt("return",{name:r[9],open:r[5],preclose:r[3],close:r[8],high:r[6],low:r[7],volume:0});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureGlobalCoin",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="btc_".concat(this.code.toLowerCase()),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:return r=t.sent,t.abrupt("return",{name:r[9],open:r[5],preclose:r[3],close:r[8],high:r[6],low:r[7],volume:r[10]});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),V=(n("d6de"),n("8d0f"),n("68b8"),n("9a51"),n("f3b8"),n("defa"),n("918c"),function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;Object(y["a"])(this,t),Object(k["a"])(this,"code",void 0),Object(k["a"])(this,"level",void 0),Object(k["a"])(this,"length",100),Object(k["a"])(this,"request",void 0),this.code=e,this.level=n,this.length=r}return Object(g["a"])(t,[{key:"use",value:function(t){this.request=t}},{key:"captureCnStock",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var n;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.level=t.LEVEL_CN_STOCK[this.level],n="https://quotes.sina.cn/cn/api/jsonp.php/_=/CN_MarketDataService.getKLineData?symbol=".concat(this.code,"&scale=").concat(this.level,"&ma=no&datalen=").concat(this.length),e.abrupt("return",this.handle(n));case 3:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"captureCnFuture",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.LEVEL_CN_FUTURE[this.level],r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/InnerFuturesNewService.getFewMinLine?symbol=".concat(this.code,"&type=").concat(n),["day","week","month"].includes(this.level)&&(r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/InnerFuturesNewService.getDailyKLine?symbol=".concat(this.code)),e.abrupt("return",this.handle(r));case 4:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"captureGlobalFuture",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.LEVEL_GLOBAL[this.level],r="https://gu.sina.cn/ft/api/jsonp.php/_=/GlobalService.getMink?symbol=".concat(this.code,"&type=").concat(n),["day","week","month"].includes(this.level)&&(r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/GlobalFuturesService.getGlobalFuturesDailyKLine?symbol=".concat(this.code)),e.abrupt("return",this.handle(r));case 4:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"captureGlobalForex",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var n,r,s,i,a,o,c,u,h,l,p,f,d,b,y;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.LEVEL_GLOBAL[this.level],!["day","week","month"].includes(this.level)){e.next=33;break}return r="https://vip.stock.finance.sina.com.cn/forex/api/jsonp.php/_=/NewForexService.getDayKLine?symbol=".concat(this.code),e.next=5,this.request.capture(r,"_");case 5:for(s=e.sent,i="/*<script>location.href='//sina.com';<\/script>*/_=(\"",a='");',s=s.startsWith(i)&&s.endsWith(a)?s.slice(i.length+1,-a.length):s.slice(1,-1),o=[],c=s.split("|"),u=!0,h=!1,l=void 0,e.prev=14,p=c[Symbol.iterator]();!(u=(f=p.next()).done);u=!0)d=f.value,b=d.split(","),o.push({d:b[0],o:b[1],l:b[2],h:b[3],c:b[4],volume:0});e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](14),h=!0,l=e.t0;case 22:e.prev=22,e.prev=23,u||null==p["return"]||p["return"]();case 25:if(e.prev=25,!h){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",this.handle(r,o));case 33:return y="https://vip.stock.finance.sina.com.cn/forex/api/jsonp.php/_=/NewForexService.getOldMinKline?symbol=".concat(this.code,"&scale=").concat(n,"&datalen=14400"),e.abrupt("return",this.handle(y));case 35:case"end":return e.stop()}}),e,this,[[14,18,22,30],[23,,25,29]])})));function n(){return e.apply(this,arguments)}return n}()},{key:"captureGlobalCoin",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var n,r,s,i,a,o,c,u,h,l,p,f,d,b,y,g;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.LEVEL_GLOBAL[this.level],!["day","week","month"].includes(this.level)){e.next=31;break}return r="https://gu.sina.cn/fx/api/openapi.php/BtcService.getDayKLine?symbol=".concat(this.code),e.next=5,this.request.capture(r,"_","ajax");case 5:for(s=e.sent,i=JSON.parse(s).result.data,a=[],o=i.split("|"),c=!0,u=!1,h=void 0,e.prev=12,l=o[Symbol.iterator]();!(c=(p=l.next()).done);c=!0)f=p.value,d=f.split(","),a.push({d:d[0],o:d[1],l:d[2],h:d[3],c:d[4],volume:0});e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](12),u=!0,h=e.t0;case 20:e.prev=20,e.prev=21,c||null==l["return"]||l["return"]();case 23:if(e.prev=23,!u){e.next=26;break}throw h;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",this.handle(r,a));case 31:return b="https://gu.sina.cn/fx/api/openapi.php/BtcService.getMinKline?symbol=".concat(this.code,"&scale=").concat(n,"&datalen=14400"),e.next=34,this.request.capture(b,"_","ajax");case 34:return y=e.sent,g=JSON.parse(y).result.data,e.abrupt("return",this.handle(b,g));case 37:case"end":return e.stop()}}),e,this,[[12,16,20,28],[21,,23,27]])})));function n(){return e.apply(this,arguments)}return n}()},{key:"handle",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,n){var r,s,i,a,o,c,u,h,l;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=[],n){t.next=5;break}return t.next=4,this.request.capture(e,"_");case 4:n=t.sent;case 5:for("string"===typeof n&&(s="/*<script>location.href='//sina.com';<\/script>*/_=(",i=");",n.startsWith(s)&&n.endsWith(i)&&(r=r.slice(s.length+1,-i.length)),n=JSON.parse(n)),a=!0,o=!1,c=void 0,t.prev=9,u=n[Symbol.iterator]();!(a=(h=u.next()).done);a=!0)l=h.value,r.push({day:l.d||l.date||l.day,close:l.c||l.close,open:l.o||l.open,high:l.h||l.high,low:l.l||l.low,volume:l.v||l.volume});t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](9),o=!0,c=t.t0;case 17:t.prev=17,t.prev=18,a||null==u["return"]||u["return"]();case 20:if(t.prev=20,!o){t.next=23;break}throw c;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",r);case 26:case"end":return t.stop()}}),t,this,[[9,13,17,25],[18,,20,24]])})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}());Object(k["a"])(V,"LEVEL_CN_STOCK",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"240",week:"1200",month:"7200",year:"86400"}),Object(k["a"])(V,"LEVEL_CN_FUTURE",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"day",week:"week",month:"month",year:"year"}),Object(k["a"])(V,"LEVEL_GLOBAL",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"day",week:"week",month:"month",year:"year"});n("ef14"),n("cfce");var A=n("cf28"),Y=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"codes",void 0),Object(k["a"])(this,"wss",void 0),Object(k["a"])(this,"url",void 0),Object(k["a"])(this,"pool",{}),Object(k["a"])(this,"callbacks",{open:null,message:null,close:null}),Object(k["a"])(this,"request",new z),this.request.use("wss",this)}return Object(g["a"])(t,[{key:"code2symbol",value:function(t){return D(t)?t:F(t)?"nf_"+t.toUpperCase():W(t)?t.toUpperCase():H(t)?"btc_"+t.toLowerCase():"hf_"+t.toUpperCase()}},{key:"symbol2code",value:function(t){return t.startsWith("nf_")?t.replace("nf_","").toLowerCase():t.startsWith("hf_")?t.replace("hf_","").toLowerCase():t.startsWith("btc_")?t.replace("btc_","").toLowerCase():t.toLowerCase()}},{key:"start",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n,r,s,i=this;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return");case 2:this.codes=e,n=e.map((function(t){return i.code2symbol(t)})),r="http:"===location.protocol?"ws://w.sinajs.cn/wskt":"wss://w.sinajs.cn/wskt",s="?list="+n.join(","),this.url=r+s,this.wss=new WebSocket(this.url),this.wss.onopen=function(t){console.log("#SinaStockWss# ".concat(i.url," connection open ...")),i.callbacks.open&&i.callbacks.open()},this.wss.onmessage=function(t){i.onMessage(t.data),i.callbacks.message&&i.callbacks.message()},this.wss.onclose=function(t){console.log("#SinaStockWss# ".concat(i.url," connection close ..."),t.code,t.reason,t.wasClean),i.callbacks.close&&i.callbacks.close(),console.log("#SinaStockWss# wss restart ..."),i.start(i.codes)},this.intervalOfPing=setInterval((function(){i.wss.send("")}),6e4);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onMessage",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n,r,s,i;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.split("="),r=Object(A["a"])(n,2),s=r[0],i=r[1],this.pool[s]=i;case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"on",value:function(t,e){this.callbacks[t]=e}},{key:"isRunning",value:function(){return this.wss&&1===+this.wss.readyState}},{key:"stop",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.codes=[],this.intervalOfPing&&clearInterval(this.intervalOfPing),t.abrupt("return",this.wss&&this.wss.close());case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"response",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pool[e]);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"ohlcvs",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e={},t.t0=v.a.keys(this.pool);case 2:if((t.t1=t.t0()).done){t.next=10;break}return n=t.t1.value,r=this.symbol2code(n),t.next=7,this.ohlcv(r);case 7:e[r]=t.sent,t.next=2;break;case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"ohlcv",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=this.code2symbol(e),this.pool[n]){t.next=4;break}return t.abrupt("return",{});case 4:return t.next=6,this.captureStock(e);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t["catch"](0),console.warn("#SinaWssCrawler# ohlcv ",t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureStock",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"1.000001"===e&&(e="sh000001"),n=new N(e),n.use(this.request),!D(e)){t.next=6;break}return t.abrupt("return",n.captureCnStock());case 6:if(!F(e)){t.next=8;break}return t.abrupt("return",n.captureCnFuture());case 8:if(!W(e)){t.next=10;break}return t.abrupt("return",n.captureGlobalForex());case 10:if(!H(e)){t.next=12;break}return t.abrupt("return",n.captureGlobalCoin());case 12:return t.abrupt("return",n.captureGlobalFuture());case 15:t.prev=15,t.t0=t["catch"](0),console.warn("#SinaWssCrawler# capture ".concat(e," fail"),t.t0);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),U=n("c206"),I=n.n(U),B=n("86bf"),J=n.n(B),R=function(){function t(e,n){var r=this;Object(y["a"])(this,t),Object(k["a"])(this,"code",void 0),Object(k["a"])(this,"wss",new Y),Object(k["a"])(this,"ohlcvOfLastKline",null),Object(k["a"])(this,"klines",[]),this.code=e,n&&(this.klines=J()(n)),this.wss.on("message",(function(){return r.onMessage.apply(r,arguments)}))}return Object(g["a"])(t,[{key:"start",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.code){t.next=2;break}return t.abrupt("return");case 2:if(this.klines.length){t.next=6;break}return t.next=5,this.load();case 5:this.klines=t.sent;case 6:return this.wss.start([this.code]),t.abrupt("return",this.wss);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"stop",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.code=null,this.wss.stop();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"load",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.captureKline(this.code,"min1",9999);case 2:return this.klines=t.sent,t.abrupt("return",this.klines);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"all",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.klines);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"last3",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.klines.slice(-3));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"merge",value:function(t,e){t&&e&&(t.high=""+Math.max(t.high,e.close),t.low=""+Math.min(t.low,e.close),t.volume=""+(e.volume-this.ohlcvOfLastKline.volume),t.close=""+e.close)}},{key:"onMessage",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r,s,i;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.wss.ohlcv(this.code);case 2:if(e=t.sent,n=this.klines[this.klines.length-1],this.ohlcvOfLastKline||(this.ohlcvOfLastKline=e),!e||!n){t.next=13;break}if(r=I()().format("YYYYMMDDHHmm"),s=I()(n.day).format("YYYYMMDDHHmm"),i=I()(n.day).add(1,"minutes").format("YYYYMMDDHHmm"),r!==s){t.next=12;break}return this.merge(n,e),t.abrupt("return");case 12:r===i&&(this.ohlcvOfLastKline=e,this.klines.push({day:I()().format("YYYY-MM-DD HH:mm:00"),open:e.close,close:e.close,high:e.close,low:e.close,volume:"0"}));case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),$=function(){function t(){Object(y["a"])(this,t)}return Object(g["a"])(t,[{key:"capture",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n,r,s;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="__suggest",r=[11,86,87,71,72],s="//suggest3.sinajs.cn/suggest/?key="+e.toLowerCase()+"&type="+r.join(",")+"&name="+n+"&num=50",t.next=5,K(s);case 5:return t.abrupt("return",window[n]);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"suggest",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n,r,s,i,a,o,c,u,h,l;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.capture(e);case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return",[]);case 5:for(r=[],s=n.split(";"),i=!0,a=!1,o=void 0,t.prev=10,c=s[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)h=u.value,l=h.split(","),r.push({name:l[4]||l[5],code:l[3]});t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](10),a=!0,o=t.t0;case 18:t.prev=18,t.prev=19,i||null==c["return"]||c["return"]();case 21:if(t.prev=21,!a){t.next=24;break}throw o;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return t.abrupt("return",r);case 27:case"end":return t.stop()}}),t,this,[[10,14,18,26],[19,,21,25]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),X=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"request",new z),Object(k["a"])(this,"wss",new Y),Object(k["a"])(this,"search",new $),Object(k["a"])(this,"wssKlineGenerator",{})}return Object(g["a"])(t,[{key:"use",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jsonp";this.request.use(t)}},{key:"suggest",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.search.suggest(e));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"startWss",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.wss.start(e);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"stopWss",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.wss.stop();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"startWssKline",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,n){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"1.000001"===e&&(e="sh000001"),this.wssKlineGenerator[e]=new R(e,n),t.abrupt("return",this.wssKlineGenerator[e].start());case 3:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"stopWssKline",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.wssKlineGenerator[e]&&this.wssKlineGenerator[e].stop();case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureStock",value:function(){var t=Object(b["a"])(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"1.000001"===e&&(e="sh000001"),!this.wss.isRunning()){t.next=8;break}return t.next=5,this.wss.ohlcv(e);case 5:if(n=t.sent,!n){t.next=8;break}return t.abrupt("return",n);case 8:if(r=new N(e),r.use(this.request),console.log("#SinaStockCrawler# capture ".concat(e," ")),!D(e)){t.next=13;break}return t.abrupt("return",r.captureCnStock());case 13:if(!F(e)){t.next=15;break}return t.abrupt("return",r.captureCnFuture());case 15:if(!W(e)){t.next=17;break}return t.abrupt("return",r.captureGlobalForex());case 17:if(!H(e)){t.next=19;break}return t.abrupt("return",r.captureGlobalCoin());case 19:return t.abrupt("return",r.captureGlobalFuture());case 22:t.prev=22,t.t0=t["catch"](0),console.warn("#SinaStockCrawler# capture ".concat(e," fail"),t.t0);case 25:case"end":return t.stop()}}),t,this,[[0,22]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureKline",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,n,r){var s;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"1.000001"===e&&(e="sh000001"),console.log("#SinaKLineCrawler# capture kline ".concat(e," ").concat(n," ").concat(r," ...")),!("min1"===n&&r<10)){t.next=6;break}if(!this.wssKlineGenerator[e]){t.next=6;break}return t.abrupt("return",this.wssKlineGenerator[e].last3());case 6:if(s=new V(e,n,r),s.use(this.request),!D(e)){t.next=10;break}return t.abrupt("return",s.captureCnStock());case 10:if(!F(e)){t.next=12;break}return t.abrupt("return",s.captureCnFuture());case 12:if(!W(e)){t.next=14;break}return t.abrupt("return",s.captureGlobalForex());case 14:if(!H(e)){t.next=16;break}return t.abrupt("return",s.captureGlobalCoin());case 16:return t.abrupt("return",s.captureGlobalFuture());case 19:t.prev=19,t.t0=t["catch"](0),console.warn("#SinaKLineCrawler# capture kline ".concat(e," ").concat(n," ").concat(r," fail"),t.t0);case 22:case"end":return t.stop()}}),t,this,[[0,19]])})));function e(e,n,r){return t.apply(this,arguments)}return e}()}]),t}(),Q=new X,Z=(n("11fd"),n("8f0b"),n("7c6c")),tt=function(){function t(){Object(y["a"])(this,t)}return Object(g["a"])(t,[{key:"hasGap",value:function(t,e){return+t.high<+e.low||+t.low>+e.high}},{key:"hasContain",value:function(t,e,n){return"forward"===n?+t.high>=+e.high&&+t.low<=+e.low:"backward"===n?+t.high<=+e.high&&+t.low>=+e.low:+t.high<=+e.high&&+t.low>=+e.low||+t.high>=+e.high&&+t.low<=+e.low}}]),t}(),et=new tt,nt=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"klines",[]),Object(k["a"])(this,"typings",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(t,[{key:"parse",value:function(t){this.klines=t,this.typings=[],this.points=[],this.parseGap(),this.parseContain(),this.parseTyping()}},{key:"parseGap",value:function(){for(var t=[],e=0;e<=this.klines.length-2;e++){var n=this.klines.slice(e,e+2),r=Object(A["a"])(n,2),s=r[0],i=r[1];if(t.push(s),et.hasGap(s,i)){var a=Object.assign({},i);+s.high<+i.low&&(a.low=s.high,a.high=i.low,a.open=s.high,a.close=i.low),+s.low>+i.high&&(a.low=i.high,a.high=s.low,a.open=s.low,a.close=i.high),a&&t.push(a)}}this.klines=t}},{key:"parseContain",value:function(){for(var t=this.klines.slice(0,2),e=2;e<=this.klines.length-1;e++){var n=t.slice(-2),r=Object(A["a"])(n,2),s=r[0],i=r[1],a=this.klines[e];et.hasContain(i,a)?+s.high<+i.high?(+i.high<+a.high?i.day=a.day:i.day=i.day,i.high=""+Math.max(+i.high,+a.high),i.low=""+Math.max(+i.low,+a.low)):(+i.low>+a.low?i.day=a.day:i.day=i.day,i.high=""+Math.min(+i.high,+a.high),i.low=""+Math.min(+i.low,+a.low)):t.push(a)}this.klines=t}},{key:"parseTyping",value:function(){for(var t,e,n=this,r=[],s=0;s<=this.klines.length-3;s++){var i=this.klines.slice(s,s+3),a=Object(A["a"])(i,3),o=a[0],c=a[1],u=a[2];t=null,+o.high<+c.high&&+u.high<+c.high&&(t={point:[c.day,+c.high],type:"top",kline:c,kindex:s+1}),+o.low>+c.low&&+u.low>+c.low&&(t={point:[c.day,+c.low],type:"bottom",kline:c,kindex:s+1}),t&&r.push(t)}["top","bottom"].forEach((function(s){t=null,n.typings=[];for(var i=0;i<=r.length-1;i++)if(t)if(e=r[i],e.type!==t.type){if(+t.kline.high>=+e.kline.high&&+t.kline.low<=+e.kline.low)continue;n.typings.push(e)}else n.typings.push(e),+t.kline.high>=+e.kline.high&&+t.kline.low<=+e.kline.low||(t=e);else r[i].type===s&&(t=r[i]),n.typings.push(r[i]);r=n.typings}));for(var h=0;h<r.length;h++)this.typings[h].index=h}},{key:"toPoints",value:function(){this.points=[];var t=!0,e=!1,n=void 0;try{for(var r,s=this.typings[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;this.points.push([].concat(Object(Z["a"])(i.point),[i.tip||""]))}}catch(a){e=!0,n=a}finally{try{t||null==s["return"]||s["return"]()}finally{if(e)throw n}}return this.points}}]),t}(),rt=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"klines",[]),Object(k["a"])(this,"typings",[]),Object(k["a"])(this,"strokes",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(t,[{key:"isValidStroke",value:function(t,e){if(!t||!e)return!1;if(t.type===e.type)return!1;if(e.kindex-t.kindex<4)return!1;if(e.kindex-t.kindex===4){if("top"===t.type)return this.klines[t.kindex+1].low>this.klines[t.kindex+2].low&&this.klines[t.kindex+2].low>this.klines[t.kindex+3].low;if("bottom"===t.type)return this.klines[t.kindex+1].high<this.klines[t.kindex+2].high&&this.klines[t.kindex+2].high<this.klines[t.kindex+3].high}var n=this.typings[t.index+1],r=this.typings[e.index+1];return!(e.index-t.index===3&&n.kindex-t.kindex<=3&&n.type!==t.type)||("top"===t.type&&e.point[1]<=n.point[1]||"bottom"===t.type&&e.point[1]>=n.point[1]||!this.isValidStroke(n,r))}},{key:"testValidStroke",value:function(t,e,n){var r=this.typings[n+1],s=this.typings[n+2];return this.isValidStroke(t,r)||this.isValidStroke(t,s)}},{key:"parse",value:function(t,e){this.klines=t,this.typings=e,this.strokes=[],this.points=[];for(var n={styping:this.typings[0],etyping:this.typings[0],type:""},r=0;r<this.typings.length;r++){var s=this.typings[r];if(s.kindex-n.styping.kindex<3){if(s.type===n.styping.type&&("top"===n.styping.type&&n.styping.point[1]<s.point[1]||"bottom"===n.styping.type&&n.styping.point[1]>s.point[1])){n.styping=s,n.etyping=s;continue}}else if(s.type!==n.styping.type&&("top"===n.styping.type&&n.etyping.point[1]>s.point[1]||"bottom"===n.styping.type&&n.etyping.point[1]<s.point[1]?n.etyping=s:this.isValidStroke(n.styping,n.etyping)||(n.etyping=s)),s.type===n.styping.type){if(!this.isValidStroke(n.etyping,s)){if(("top"===n.styping.type&&n.styping.point[1]<s.point[1]||"bottom"===n.styping.type&&n.styping.point[1]>s.point[1])&&!this.testValidStroke(n.etyping,s,r)){var i=this.strokes[this.strokes.length-1];if(i&&("top"===n.styping.type&&n.etyping.point[1]>i.styping.point[1]||"bottom"===n.styping.type&&n.etyping.point[1]<i.styping.point[1])){this.strokes.pop(),i.etyping=s,n=i;continue}}continue}if(("top"===n.styping.type&&n.etyping.point[1]<s.point[1]||"bottom"===n.styping.type&&n.etyping.point[1]>s.point[1])&&this.isValidStroke(n.styping,n.etyping)){+n.etyping.point[1]>+n.styping.point[1]?n.type="up":n.type="down",this.strokes.push(n),n={styping:n.etyping,etyping:s,type:""};continue}}}n.tip=" 虚笔",n.styping!==n.etyping||(n.etyping=this.typings[this.typings.length-1]),this.strokes.push(n);for(var a=0;a<this.strokes.length;a++)this.strokes[a].index=a}},{key:"toPoints",value:function(){this.points=[];var t=!0,e=!1,n=void 0;try{for(var r,s=this.strokes[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;i.tip&&i.tip.includes("虚笔")||this.points.push(i.styping.point,[].concat(Object(Z["a"])(i.etyping.point),[i.macd,i.tip||""]))}}catch(a){e=!0,n=a}finally{try{t||null==s["return"]||s["return"]()}finally{if(e)throw n}}return this.points}},{key:"toPoints2",value:function(){var t=this.strokes[this.strokes.length-1];return t.tip&&t.tip.includes("虚笔")?[t.styping.point,[].concat(Object(Z["a"])(t.etyping.point),[t.macd,t.tip||""])]:[]}}]),t}(),st=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"strokes",[]),Object(k["a"])(this,"segments",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(t,[{key:"merge",value:function(t,e,n){var r={};return"up"===n?(r.high=""+Math.max(+t.high,+e.high),r.low=""+Math.max(+t.low,+e.low)):(r.high=""+Math.min(+t.high,+e.high),r.low=""+Math.min(+t.low,+e.low)),r}},{key:"hasGap",value:function(t,e,n,r,s){var i;if(!e||!n)return!1;if(!s){for(var a=t.index+1;a<n.sindex;a+=2){var o=this.strokes[a],c="up"===r?Math.max:Math.min,u="up"===r?o.styping.kline.high:o.styping.kline.low;i=i?c(u,i):u}return"up"===r?i<n.low:i>n.high}i=null;for(var h=e.sindex+2;h<=n.sindex;h+=2){var l=this.strokes[h],p="up"===r?Math.min:Math.max,f="up"===r?l.etyping.kline.low:l.etyping.kline.high;i=i?p(f,i):f}return"up"===r?i>e.high:i<e.low}},{key:"parse",value:function(t){if(this.strokes=t,this.segments=[],this.points=[],this.strokes.length){for(var e,n=[],r=!1,s=this.strokes[0].type,i={sstroke:this.strokes[0],estroke:this.strokes[0],type:s},a=1;a<=this.strokes.length-3;a++){var o=this.strokes.slice(a,a+7),c=Object(A["a"])(o,7),u=c[0],h=c[1],l=c[2],p=c[3],f=c[4],d=c[5],v=c[6],b=function(t){return"up"===t.type?{high:t.etyping.point[1],low:t.styping.point[1],sindex:t.index}:{high:t.styping.point[1],low:t.etyping.point[1],sindex:t.index}},y=b(u),g=b(h),k=b(l),w=(p&&b(p),f?b(f):null);d&&b(d),v&&b(v);if(l.type!==s)if(e){var m=this.segments[this.segments.length-1];if(r&&m&&n.length<2){var j=m.estroke.etyping;if("up"===s&&j.point[1]>k.low||"down"===s&&j.point[1]<k.high){m.estroke=l,r=!1,this.segments.pop(),i=m,n=[],s=m.type,e=g;continue}}if(r&&et.hasContain(e,k,"backward")&&n.length<2)"down"===s?(e.high=""+Math.min(+e.high,+k.high),e.low=""+Math.min(+e.low,+k.low)):(e.high=""+Math.max(+e.high,+k.high),e.low=""+Math.max(+e.low,+k.low)),e.sindex=l.index,e.isMerged=!0;else if(et.hasContain(e,k,"forward"))e=this.merge(e,k,s),e.sindex=l.index,e.isMerged=!0;else if(et.hasContain(e,k,"backward"))n[0]=e,n[1]=k,e=k,i.estroke=h;else if("up"===s&&e.high<k.high||"down"===s&&e.low>k.low)n[0]=e,n[1]=k,e=k,i.estroke=h;else if("up"===s&&e.high>k.high||"down"===s&&e.low<k.low){if(n.length<2){n[0]=e,n[1]=k,e=k,i.estroke=h;continue}w&&n[0]&&n[1]&&(r=this.hasGap(i.sstroke,n[0],n[1],s,e.isMerged),!r&&et.hasContain(k,w,"forward")&&(a+=1)),this.segments.push(i);var x=i.estroke,O=this.strokes[x.index+1];i={sstroke:O,estroke:O,type:"up"===s?"down":"up"},n=[],s="up"===s?"down":"up",e=g}else;}else e=y}this.segments.shift(),i.tip=" 虚段",i.sstroke!==i.estroke||(i.estroke=this.strokes[this.strokes.length-1]),this.segments.push(i);for(var _=0;_<this.segments.length;_++)this.segments[_].index=_}}},{key:"toPoints",value:function(){this.points=[];var t=!0,e=!1,n=void 0;try{for(var r,s=this.segments[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;i.tip&&i.tip.includes("虚段")||this.points.push(i.sstroke.styping.point,[].concat(Object(Z["a"])(i.estroke.etyping.point),[i.macd,i.tip||""]))}}catch(a){e=!0,n=a}finally{try{t||null==s["return"]||s["return"]()}finally{if(e)throw n}}return this.points}},{key:"toPoints2",value:function(){var t=this.segments[this.segments.length-1];return t.tip&&t.tip.includes("虚段")?[t.sstroke.styping.point,[].concat(Object(Z["a"])(t.estroke.etyping.point),[t.macd,t.tip||""])]:[]}}]),t}(),it=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"segments",[]),Object(k["a"])(this,"boxes",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(t,[{key:"isCoincide",value:function(t){return this.range(t)}},{key:"isExpand",value:function(t,e){var n=this.merge(t.range,e.range);return!n&&(t.range.top<e.range.bottom&&t.range.high>=e.range.low||t.range.bottom>e.range.top&&t.range.low<=e.range.high)}},{key:"isTrend",value:function(t,e){return!this.merge(t.range,e.range)}},{key:"merge",value:function(t,e){var n={};return!(t.bottom>e.top||t.top<e.bottom)&&(n.top=Math.min(t.top,e.top),n.bottom=Math.max(t.bottom,e.bottom),n.high=Math.max(t.high,e.high),n.low=Math.min(t.low,e.low),n)}},{key:"range",value:function(t){if(!(t.length<3)){for(var e,n=0;n<=t.length-3;n++){var r=t.slice(n,n+3),s=Object(A["a"])(r,3),i=s[0],a=s[1],o=s[2],c=void 0;if(i.estroke.etyping.point[1]!==a.sstroke.styping.point[1]||a.estroke.etyping.point[1]!==o.sstroke.styping.point[1])return!1;if("up"===i.type&&i.sstroke.styping.point[1]<o.estroke.etyping.point[1]&&(c={top:Math.min(i.estroke.etyping.point[1],o.estroke.etyping.point[1]),high:Math.max(i.estroke.etyping.point[1],o.estroke.etyping.point[1]),bottom:Math.max(i.sstroke.styping.point[1],o.sstroke.styping.point[1]),low:Math.min(i.sstroke.styping.point[1],o.sstroke.styping.point[1])}),"down"===i.type&&i.sstroke.styping.point[1]>o.estroke.etyping.point[1]&&(c={top:Math.min(i.sstroke.styping.point[1],o.sstroke.styping.point[1]),high:Math.max(i.sstroke.styping.point[1],o.sstroke.styping.point[1]),bottom:Math.max(i.estroke.etyping.point[1],o.estroke.etyping.point[1]),low:Math.min(i.estroke.etyping.point[1],o.estroke.etyping.point[1])}),!c)return!1;if(e){if(e=this.merge(e,c),!e)return!1}else e=c}return e}}},{key:"parse",value:function(t){var e;this.segments=t,this.boxes=[];for(var n=0;n<=this.segments.length-3;n++){var r=this.segments.slice(n,n+3),s=Object(A["a"])(r,3),i=s[0],a=s[1],o=s[2];t=e?[].concat(Object(Z["a"])(e.segments),[o]):[i,a,o];var c=this.range(t);if(c){e?e.esegment=o:e={type:i.type,ssegment:i,esegment:o},e.range=c,e.segments=t,e.isLevelUp=t.length>=11;var u=this.boxes[this.boxes.length-1];if(u){var h=this.isExpand(e,u);e.isExpand=h,u.isExpand=u.isExpand||h}}else e&&this.boxes.push(e),e=null}e&&this.boxes.push(e);for(var l=0;l<this.boxes.length;l++)this.boxes[l].index=l}},{key:"toPoints",value:function(){this.points=[];var t=!0,e=!1,n=void 0;try{for(var r,s=this.boxes[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value,a=[[i.ssegment.estroke.styping.point[0],i.range.top],[i.esegment.sstroke.etyping.point[0],i.range.top],[i.esegment.sstroke.etyping.point[0],i.range.bottom],[i.ssegment.estroke.styping.point[0],i.range.bottom]];this.points.push(a)}}catch(o){e=!0,n=o}finally{try{t||null==s["return"]||s["return"]()}finally{if(e)throw n}}return this.points}}]),t}();function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=[],r=t.length;if(0===r||e<=0)return n;var s=t[0];n.push(s);for(var i=t[0],a=e*(e+1)/2,o=1;o<r;o++){if(o<e){i+=t[o];for(var c=0,u=0,h=0;h<=o;h++)c+=t[o-h]*(e-h),u+=e-h;s=c/u}else s+=(e*t[o]-i)/a,i+=t[o]-t[o-e];n.push(s)}return n}function ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=t.length,r=[];if(0===n||e<=0)return r;var s=2/(e+1),i=t[0];r.push(i);for(var a=1;a<n;a++)i=s*t[a]+(1-s)*i,r.push(i);return r}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=[],r=t.length;if(0===r||e<=0)return n;var s=t[0];n.push(s);for(var i=1;i<r;i++){if(i<e){for(var a=t[0],o=1;o<=i;o++)a+=t[o];s=a/(i+1)}else s+=(t[i]-t[i-e])/e;n.push(s)}return n}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:9,s=t.length,i=[],a=[],o=[];if(0===s)return{dif:i,dea:o,bar:a};for(var c=ot(t,e),u=ot(t,n),h=0;h<s;h++)i.push(c[h]-u[h]);o=ot(i,r);for(var l=0;l<s;l++)a.push(2*(i[l]-o[l]));return{dif:i,dea:o,bar:a}}var ht={macd:ut,ema:ot,wma:at,ma:ct},lt=function(){function t(){Object(y["a"])(this,t),Object(k["a"])(this,"klines",[]),Object(k["a"])(this,"twist",{}),Object(k["a"])(this,"parsers",{typing:null,stroke:null,segment:null,box:null,segment2:null,box2:null})}return Object(g["a"])(t,[{key:"init",value:function(t){this.klines=J()(t),this.parsers.typing=new nt,this.parsers.stroke=new rt,this.parsers.segment=new st,this.parsers.segment2=new st,this.parsers.box=new it,this.parsers.box2=new it,this.parsers.box0=new it}},{key:"segment2stroke",value:function(t){var e=[],n=!0,r=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c={type:o.type,styping:o.sstroke.styping,etyping:o.estroke.etyping,index:e.length};e.push(c)}}catch(u){r=!0,s=u}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}return e}},{key:"stroke2segment",value:function(t){var e=[],n=!0,r=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c={type:o.type,sstroke:o,estroke:o,index:e.length};e.push(c)}}catch(u){r=!0,s=u}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}return e}},{key:"macd",value:function(t){for(var e=[],n={},r=0;r<t.length;r++)e.push(+t[r].close),n[t[r].day]=r;var s=ht.macd(e);return s.map=n,s}},{key:"update",value:function(t){return this.klines.length===t.length?(this.twist.macd=this.macd(t),this.twist):this.parse(t)}},{key:"parse",value:function(t){this.init(t),this.parsers.typing.parse(this.klines),this.parsers.stroke.parse(this.parsers.typing.klines,this.parsers.typing.typings),this.parsers.segment.parse(this.parsers.stroke.strokes),this.parsers.segment2.parse(this.segment2stroke(this.parsers.segment.segments)),this.parsers.box.parse(this.parsers.segment.segments),this.parsers.box2.parse(this.parsers.segment2.segments),this.parsers.box0.parse(this.stroke2segment(this.parsers.stroke.strokes));var e=this.macd(t),n=new pt;return n.calcStrokes(this.parsers.stroke.strokes,e),n.calcSegments(this.parsers.segment.segments,e),n.calcSegments(this.parsers.segment2.segments,e),this.twist={typing:[],stroke:this.parsers.stroke.toPoints(),segment:this.parsers.segment.toPoints(),segment2:this.parsers.segment2.toPoints(),vstroke:this.parsers.stroke.toPoints2(),vsegment:this.parsers.segment.toPoints2(),vsegment2:this.parsers.segment2.toPoints2(),box:this.parsers.box.toPoints(),box2:this.parsers.box2.toPoints(),box0:[],macd:e},this.twist}}]),t}(),pt=function(){function t(){Object(y["a"])(this,t)}return Object(g["a"])(t,[{key:"calcSegments",value:function(t,e){var n=!0,r=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c=o.sstroke.styping.point[0],u=o.estroke.etyping.point[0],h=e.map[c],l=e.map[u],p=this.calcArea(e,h,l);this.toTip(o,p)}}catch(f){r=!0,s=f}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}}},{key:"calcStrokes",value:function(t,e){var n=!0,r=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c=o.styping.point[0],u=o.etyping.point[0],h=e.map[c],l=e.map[u],p=this.calcArea(e,h,l);this.toTip(o,p)}}catch(f){r=!0,s=f}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}}},{key:"calcArea",value:function(t,e,n){var r={red:0,green:0};if(t&&t.bar&&!(t.bar.length<n)){for(var s=e;s<=n;s++){var i=t.bar[s];i>0?r.red+=+i:r.green+=+i}return r}}},{key:"toTip",value:function(t,e){t.macd=this.toString(e,t)}},{key:"toString",value:function(t,e){return"up"===e.type?t.red.toFixed(2):t.green.toFixed(2)}},{key:"toString2",value:function(t){return"Red: ".concat(t.red.toFixed(2)," Green: ").concat(t.green.toFixed(2))}}]),t}(),ft=new lt,dt=function(){function t(){Object(y["a"])(this,t)}return Object(g["a"])(t,[{key:"captureKline",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,r,s){var i,a,o;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={min1:function(){return n.e("chunk-2d22bcca").then(n.t.bind(null,"f109",3))},min5:function(){return n.e("chunk-2d0cf120").then(n.t.bind(null,"61c2",3))},min15:function(){return n.e("chunk-2d0a47b9").then(n.t.bind(null,"0740",3))},min30:function(){return n.e("chunk-2d0c7e69").then(n.t.bind(null,"531f",3))},min60:function(){return n.e("chunk-2d0a4bd7").then(n.t.bind(null,"0870",3))},min120:function(){return n.e("chunk-2d0e9724").then(n.t.bind(null,"8e23",3))},min240:function(){return n.e("chunk-2d2225d6").then(n.t.bind(null,"cdfe",3))},day:function(){return n.e("chunk-2d0efd59").then(n.t.bind(null,"9a94",3))}},t.next=3,i[r]();case 3:return a=t.sent,o=a["default"],t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()}]),t}(),vt=new dt,bt=function(){function t(e){var n=e.isHS;Object(y["a"])(this,t),Object(k["a"])(this,"isHS",!1),this.isHS=n}return Object(g["a"])(t,[{key:"generate",value:function(t,e){var n=null,r=[],s=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var u=o.value;u=Object.assign({},u),n?I()(u.day)[t]()===I()(n.day)[t]()?(n.high=+(u.high>n.high?u.high:n.high),n.low=+(u.low<n.low?u.low:n.low),n.close=+u.close,n.day=u.day,n.volume+=+u.volume):(r.push(n),n=u,n.volume=+n.volume):(n=u,n.volume=+n.volume)}}catch(h){i=!0,a=h}finally{try{s||null==c["return"]||c["return"]()}finally{if(i)throw a}}return r.push(n),r}},{key:"week",value:function(t){return this.generate("week",t)}},{key:"month",value:function(t){return this.generate("month",t)}},{key:"year",value:function(t){return this.generate("year",t)}}]),t}();Object(k["a"])(bt,"LEVEL",{week:"week",month:"month",year:"year"});var yt=function(){function t(e){var n=e.isHS;Object(y["a"])(this,t),Object(k["a"])(this,"isHS",!1),this.isHS=n}return Object(g["a"])(t,[{key:"generate",value:function(t,e){for(var n=null,r=[],s=0;s<e.length;s++){var i=Object.assign({},e[s]);if(n){if(60===t&&this.isHS){var a=I()(i.day).format("HH:mm");if(["09:31","10:31","13:01","14:01"].includes(a)){r.push(n),n=i,n.volume=+n.volume;continue}}else if(I()(i.day).minute()%t===1){r.push(n),n=i,n.volume=+n.volume;continue}n.high=+(i.high>n.high?i.high:n.high),n.low=+(i.low<n.low?i.low:n.low),n.close=+i.close,n.day=i.day,n.volume+=+i.volume}else{var o=I()(i.day).minute();if(o%t!==1)continue;n=i,n.volume=+n.volume}}return r.push(n),r}},{key:"min5",value:function(t){return this.generate(5,t)}},{key:"min15",value:function(t){return this.generate(15,t)}},{key:"min30",value:function(t){return this.generate(30,t)}},{key:"min60",value:function(t){return this.generate(60,t)}}]),t}();Object(k["a"])(yt,"LEVEL",{min5:5,min15:15,min30:30,min60:60});var gt=function(){function t(e){Object(y["a"])(this,t),Object(k["a"])(this,"klines",{min:[],day:[]}),Object(k["a"])(this,"generator",{min:null,day:null}),Object(k["a"])(this,"code",void 0),Object(k["a"])(this,"length",1e4),Object(k["a"])(this,"timestamp",0),Object(k["a"])(this,"interval",10),Object(k["a"])(this,"intervalId",-1),Object(k["a"])(this,"crawler",void 0),Object(k["a"])(this,"wss",void 0),Object(k["a"])(this,"isHS",!0),this.code="sh000001"===e?"1.000001":e,this.isHS=["sz","sh"].includes(this.code.slice(0,2)),this.generator.min=new yt({isHS:this.isHS}),this.generator.day=new bt({isHS:this.isHS}),this.crawler=window.__is_twist_mock?vt:Q}return Object(g["a"])(t,[{key:"now",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.crawler.captureStock(this.code));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e,n,r,s,i,a,o,c,u;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.crawler.captureKline(this.code,"min1",3);case 2:for(e=t.sent,n=!0,r=!1,s=void 0,t.prev=6,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)o=a.value,c=new Date(this.timestamp).getTime(),u=new Date(o.day).getTime(),u===c&&(this.klines.min[this.klines.min.length-1]=o),u>c&&(this.klines.min.push(o),this.timestamp=o.day);t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](6),r=!0,s=t.t0;case 14:t.prev=14,t.prev=15,n||null==i["return"]||i["return"]();case 17:if(t.prev=17,!r){t.next=20;break}throw s;case 20:return t.finish(17);case 21:return t.finish(14);case 22:case"end":return t.stop()}}),t,this,[[6,10,14,22],[15,,17,21]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"loop",value:function(){var t=Object(b["a"])(v.a.mark((function t(e,n){var r=this;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.__is_twist_mock){t.next=2;break}return t.abrupt("return");case 2:if(this.klines.min.length){t.next=5;break}return t.next=5,this.min1();case 5:return t.next=7,this.crawler.startWssKline(this.code,this.klines.min);case 7:this.wss=t.sent,this.intervalId=setInterval(Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.update();case 2:return t.next=4,n();case 4:case"end":return t.stop()}}),t)}))),1e3*(e||this.interval));case 9:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"stop",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:clearInterval(this.intervalId),this.wss&&this.crawler.stopWssKline(this.code);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"min1",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.klines.min.length){t.next=2;break}return t.abrupt("return",this.klines.min);case 2:return t.next=4,this.crawler.captureKline(this.code,"min1",this.length);case 4:return this.klines.min=t.sent,this.timestamp=this.klines.min[this.klines.min.length-1].day,t.abrupt("return",this.klines.min);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"min5",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.min1();case 2:if(e=t.sent,!(e.length/5>1023)){t.next=5;break}return t.abrupt("return",this.generator.min.min5(e));case 5:return t.abrupt("return",this.crawler.captureKline(this.code,"min5",this.length));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"min15",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.crawler.captureKline(this.code,"min15",this.length));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"min30",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.crawler.captureKline(this.code,"min30",this.length));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"min60",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.crawler.captureKline(this.code,"min60",this.length));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"min120",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.crawler.captureKline(this.code,"min120",this.length));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"min240",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.crawler.captureKline(this.code,"min240",this.length));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"day",value:function(){var t=Object(b["a"])(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.klines.day.length){t.next=2;break}return t.abrupt("return",this.klines.day);case 2:return t.next=4,this.crawler.captureKline(this.code,"day",this.length);case 4:return this.klines.day=t.sent,t.abrupt("return",this.klines.day);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"week",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.day();case 2:return e=t.sent,t.abrupt("return",this.generator.day.week(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"month",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.day();case 2:return e=t.sent,t.abrupt("return",this.generator.day.month(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"year",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var e;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.day();case 2:return e=t.sent,t.abrupt("return",this.generator.day.year(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}],[{key:"create",value:function(){var e=Object(b["a"])(v.a.mark((function e(n){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new t(n));case 1:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()}]),t}();window.__Walle_Stock_Twist={crawler:gt,indicator:ht,processor:ft,sina:Q},"#/"===location.hash&&(window.__is_twist_mock=!0),window.console.log=function(){},r["default"].config.productionTip=!1;var kt=new r["default"]({router:a,render:function(t){return t(f)}}).$mount("#walle-app");e["default"]=kt},2:function(t,e){},3113:function(t,e,n){var r={"./af":"f064","./af.js":"f064","./ar":"35c3","./ar-dz":"d68a","./ar-dz.js":"d68a","./ar-kw":"49cd","./ar-kw.js":"49cd","./ar-ly":"1b3b","./ar-ly.js":"1b3b","./ar-ma":"847d","./ar-ma.js":"847d","./ar-sa":"bb68","./ar-sa.js":"bb68","./ar-tn":"e4cc","./ar-tn.js":"e4cc","./ar.js":"35c3","./az":"6555","./az.js":"6555","./be":"9106","./be.js":"9106","./bg":"fa7e","./bg.js":"fa7e","./bm":"4d38","./bm.js":"4d38","./bn":"6881","./bn.js":"6881","./bo":"4166","./bo.js":"4166","./br":"890a","./br.js":"890a","./bs":"10be","./bs.js":"10be","./ca":"bddf","./ca.js":"bddf","./cs":"2bed","./cs.js":"2bed","./cv":"26dd","./cv.js":"26dd","./cy":"b168","./cy.js":"b168","./da":"61c1","./da.js":"61c1","./de":"04a6","./de-at":"3aaf","./de-at.js":"3aaf","./de-ch":"8476","./de-ch.js":"8476","./de.js":"04a6","./dv":"c3c1","./dv.js":"c3c1","./el":"b526","./el.js":"b526","./en-SG":"706c","./en-SG.js":"706c","./en-au":"1e0c","./en-au.js":"1e0c","./en-ca":"6724","./en-ca.js":"6724","./en-gb":"7b16","./en-gb.js":"7b16","./en-ie":"c8ac","./en-ie.js":"c8ac","./en-il":"4c1e","./en-il.js":"4c1e","./en-nz":"883c","./en-nz.js":"883c","./eo":"e1bb","./eo.js":"e1bb","./es":"18d3","./es-do":"47b9","./es-do.js":"47b9","./es-us":"36cb","./es-us.js":"36cb","./es.js":"18d3","./et":"64e8","./et.js":"64e8","./eu":"9050","./eu.js":"9050","./fa":"f028","./fa.js":"f028","./fi":"bdc3","./fi.js":"bdc3","./fo":"f188","./fo.js":"f188","./fr":"63c2","./fr-ca":"b7e6","./fr-ca.js":"b7e6","./fr-ch":"48f5","./fr-ch.js":"48f5","./fr.js":"63c2","./fy":"4f73","./fy.js":"4f73","./ga":"368c","./ga.js":"368c","./gd":"1896","./gd.js":"1896","./gl":"31d0","./gl.js":"31d0","./gom-latn":"e63d","./gom-latn.js":"e63d","./gu":"7d8d","./gu.js":"7d8d","./he":"0020","./he.js":"0020","./hi":"dd6a","./hi.js":"dd6a","./hr":"3a73","./hr.js":"3a73","./hu":"1109","./hu.js":"1109","./hy-am":"30d7","./hy-am.js":"30d7","./id":"d32a","./id.js":"d32a","./is":"4e63","./is.js":"4e63","./it":"c43f","./it-ch":"7e84","./it-ch.js":"7e84","./it.js":"c43f","./ja":"8ce9","./ja.js":"8ce9","./jv":"94eb","./jv.js":"94eb","./ka":"0403","./ka.js":"0403","./kk":"88d8","./kk.js":"88d8","./km":"4d4c","./km.js":"4d4c","./kn":"850c","./kn.js":"850c","./ko":"64d6","./ko.js":"64d6","./ku":"4b44","./ku.js":"4b44","./ky":"24ef","./ky.js":"24ef","./lb":"be7f","./lb.js":"be7f","./lo":"8272","./lo.js":"8272","./lt":"e8f0","./lt.js":"e8f0","./lv":"60a7","./lv.js":"60a7","./me":"7774","./me.js":"7774","./mi":"8539","./mi.js":"8539","./mk":"7df5","./mk.js":"7df5","./ml":"7a32","./ml.js":"7a32","./mn":"448b","./mn.js":"448b","./mr":"08f2","./mr.js":"08f2","./ms":"7791","./ms-my":"b784","./ms-my.js":"b784","./ms.js":"7791","./mt":"d4a5","./mt.js":"d4a5","./my":"2ec3","./my.js":"2ec3","./nb":"87e5","./nb.js":"87e5","./ne":"d894","./ne.js":"d894","./nl":"8ec6","./nl-be":"fa1e","./nl-be.js":"fa1e","./nl.js":"8ec6","./nn":"9a1d","./nn.js":"9a1d","./pa-in":"3ba6","./pa-in.js":"3ba6","./pl":"f017","./pl.js":"f017","./pt":"0c38","./pt-br":"b879","./pt-br.js":"b879","./pt.js":"0c38","./ro":"6da0","./ro.js":"6da0","./ru":"79cb","./ru.js":"79cb","./sd":"7bd2","./sd.js":"7bd2","./se":"0994","./se.js":"0994","./si":"4cee","./si.js":"4cee","./sk":"2be2","./sk.js":"2be2","./sl":"40ae","./sl.js":"40ae","./sq":"bf74","./sq.js":"bf74","./sr":"35dc","./sr-cyrl":"3c6b","./sr-cyrl.js":"3c6b","./sr.js":"35dc","./ss":"d81f","./ss.js":"d81f","./sv":"585e","./sv.js":"585e","./sw":"e15b","./sw.js":"e15b","./ta":"770d","./ta.js":"770d","./te":"e0c0","./te.js":"e0c0","./tet":"fe18","./tet.js":"fe18","./tg":"3e85","./tg.js":"3e85","./th":"398d","./th.js":"398d","./tl-ph":"502f","./tl-ph.js":"502f","./tlh":"7162","./tlh.js":"7162","./tr":"12a6","./tr.js":"12a6","./tzl":"7cdf","./tzl.js":"7cdf","./tzm":"e9c6","./tzm-latn":"a5d0","./tzm-latn.js":"a5d0","./tzm.js":"e9c6","./ug-cn":"27e4","./ug-cn.js":"27e4","./uk":"e8e9","./uk.js":"e8e9","./ur":"40d1","./ur.js":"40d1","./uz":"84bc","./uz-latn":"2aa3","./uz-latn.js":"2aa3","./uz.js":"84bc","./vi":"1272","./vi.js":"1272","./x-pseudo":"5bb75","./x-pseudo.js":"5bb75","./yo":"4038","./yo.js":"4038","./zh-cn":"6e33","./zh-cn.js":"6e33","./zh-hk":"2450","./zh-hk.js":"2450","./zh-tw":"c410","./zh-tw.js":"c410"};function s(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=i,t.exports=s,s.id="3113"},c3e8:function(t,e,n){},e5cd:function(t,e,n){"use strict";var r=n("c3e8"),s=n.n(r);s.a}});