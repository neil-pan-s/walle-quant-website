(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],h=0,l=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&l.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(l.length)l.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var o=n[s];0!==i[o]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},s={index:0},i={index:0},a=[];function o(e){return c.p+"js/"+({}[e]||e)+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-406eb9cf":1,"chunk-6faf9582":1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+".css",i=c.p+r,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var u=a[o],h=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(h===r||h===i))return t()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){u=l[o],h=u.getAttribute("data-href");if(h===r||h===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete s[e],p.parentNode.removeChild(p),n(a)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){s[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=a);var u,h=document.createElement("script");h.charset="utf-8",h.timeout=120,c.nc&&h.setAttribute("nonce",c.nc),h.src=o(e);var l=new Error;u=function(t){h.onerror=h.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",l.name="ChunkLoadError",l.type=r,l.request=s,n[1](l)}i[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:h})}),12e4);h.onerror=h.onload=u,document.head.appendChild(h)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],h=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=h;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("1d50")},1:function(e,t){},"1d50":function(e,t,n){"use strict";n.r(t);n("9531"),n("26d3d"),n("2007"),n("41ab");var r=n("4f2b"),s=(n("ef1f"),n("5f2b"));r["default"].use(s["a"]),r["default"].component("ui-twist",(function(){return n.e("chunk-406eb9cf").then(n.bind(null,"d105"))})),r["default"].component("ui-kchart",(function(){return n.e("chunk-6faf9582").then(n.bind(null,"a5dd"))}));var i=new s["a"]({routes:[{path:"/:code",component:{template:"<ui-twist></ui-twist>"}},{path:"*",component:{template:"<ui-twist></ui-twist>"}}]}),a=i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"walle-app"}},[n("router-view")],1)},c=[],u={name:"app"},h=u,l=(n("e5cd"),n("2be6")),p=Object(l["a"])(h,o,c,!1,null,null,null),f=p.exports,d=(n("d86f"),n("2aa5"),n("2c93"),n("56d4")),v=n.n(d),b=(n("df26"),n("42c2")),y=n("f5f2"),g=n("30c6"),k=n("ce37"),w=(n("7004"),n("0d9f"),n("32f5"),n("1adc")),m=n.n(w),j=(n("868d"),n("b151"),function(e){return new Promise((function(t){setTimeout(t,e)}))});function x(e){return Object(b["a"])(v.a.mark((function t(){var n,r,s,i=arguments;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n>=3)){t.next=4;break}return t.abrupt("break",20);case 4:return console.log("#RetryWrapper# ".concat(e.name," call ").concat(n," time")),t.prev=5,t.next=8,e.apply(void 0,i);case 8:return r=t.sent,t.abrupt("return",r);case 12:return t.prev=12,t.t0=t["catch"](5),s=t.t0,t.next=17,j(3e3);case 17:n++,t.next=1;break;case 20:throw s;case 21:case"end":return t.stop()}}),t,null,[[5,12]])})))}var O=x,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return window.parent.__Walle_Devtools?window.parent.__Walle_Devtools_Ajax({type:e,url:t,data:n,opts:r}):window.__Walle_Devtools?window.__Walle_Devtools_Ajax({type:e,url:t,data:n,opts:r}):new Promise((function(s,i){console.log("#ajax# request - ".concat(e," - ").concat(t," "),n),m.a.ajax(Object.assign({type:e,url:t,data:n,async:r.async||!0,dataType:r.dataType||"html",success:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.apply(void 0,t)},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["#ajax# fail - "].concat(n)),i.apply(void 0,n)}},r))}))},S=function(e,t){var n;return e?(n="application/json"===t.contentType?JSON.stringify(e):m.a.param(e),n):e},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S(t,n);return _("POST",e,r,n)},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S(t,n);return O((function(){return _("GET",e,r,n)}))()},M=function(e){return new Promise((function(t,n){var r=document.createElement("img");r.src=e,r.onload=function(){return t(r)},r.onerror=n,r.onabort=n}))},E=function(e){return window.parent.__Walle_Devtools?window.parent.__Walle_Devtools_Download({url:e}):window.__Walle_Devtools?window.__Walle_Devtools_Download({url:e}):new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){return t(r.response)},r.onerror=n,r.send(null)}))},G={ajax:_,post:C,get:L,getImage:M,getBinary:E};function K(e,t){return T.apply(this,arguments)}function T(){return T=Object(b["a"])(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=document.querySelector("#scripts"),r?r.innerHTML="":(r=document.createElement("div"),r.setAttribute("id","scripts"),document.body.appendChild(r)),e.abrupt("return",P(t,(function(){r.innerHTML="",n&&n()}),r));case 3:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function P(e,t,n){return q.apply(this,arguments)}function q(){return q=Object(b["a"])(v.a.mark((function e(t,n,r){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,s){var i=document.createElement("script");i.type="text/javascript",i.src=t,i.onload=function(){e(),n&&n()},i.onerror=function(e){s(e)},(r||document.body).appendChild(i)})));case 1:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}var z=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"requestType","jsonp"),Object(k["a"])(this,"_wss",void 0)}return Object(g["a"])(e,[{key:"use",value:function(e,t){this.requestType=e,t&&(this._wss=t)}},{key:"capture",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,n,r){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",this[r](t,n));case 2:return e.abrupt("return",this[this.requestType](t,n));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ajax",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",G.get(t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"jsonp",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n,r=arguments;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"_",e.next=3,K(t);case 3:return e.abrupt("return",JSON.stringify(window[n]));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"node",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var s=n("2f61"),i="",a=s.get(t,(function(t){t.on("data",(function(e){i+=e.toString()})),t.on("end",(function(){e(i)}))}));a.on("error",r)})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"wss",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,n){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=n.replace("hq_str_",""),e.abrupt("return",this._wss.response(n));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}();n("8d0d"),n("33ef"),n("c78b");function D(e){"1.000001"===e&&(e="sh000001");var t=e.slice(0,2).toLowerCase();return["sz","00","30","12"].includes(t)?"sz":["sh","60","68","11"].includes(t)?"sh":void 0}function W(e){var t=e.replace(/\d+/g,"").toLowerCase(),n=["ss","zn","al","cu","rb","bu","pb","hc","fu","ni","au","ru","wr","ag","sp","sn"],r=["nr","sc","lu","bc"],s=["m","b","a","i","v","l","jd","eb","pp","c","cs","jm","rr","j","y","pg","fb","p","eg","lh","bb"],i=["rm","ma","sa","cj","cy","fg","rs","ri","cf","wh","jr","sm","sr","ta","zc","pf","oi","sf","ap","pk","ur"],a=["tm","tf","ts","ic","if","ih"];return[].concat(n,r,s,i,a).includes(t)}function F(e){var t=["diniw","usdcny","eurusd","gbpusd","usdjpy","audusd","usdcad","usdchf","usdhkd","usdsgd","usdtwd","usdmyr","eurcny","jpycny","hkdcny","gbpcny","audcny","nzdcny","sgdcny","chfcny","cadcny","cnyjpy","cnykrw","cnyrub","cnymyr"];return t.includes(e.toLowerCase())}function H(e){var t=["btcbitstamp","btcokcoin","btcbtcusd","btcethusd","btceosusd","btcltcusd","btcbchusd","btcxrpusd","btcusdtusd","btcetcusd","btcwf","btcadausd","btcbnbusd","btcxlmusd","btczrxusdt","btciostusdt","btciotusd","btcontusdt","btcqtumusd","btchotusdt","btctrxusd","btcthetausdt","btcpaxusdt","btcvenusd","btczecusd","btcbttusdt","btcdgdusd","btcenjusdt","btcneousd","btczilusdt","btciotausdt","btcxmrusd","btctfuelusd","btcsntusd","btctusdusdt","btcusdcusdt","btctfuelusdt","btcicxusd","btcdashusd"];return t.includes(e.toLowerCase())}n("62c8");var N=function(){function e(t){Object(y["a"])(this,e),"1.000001"===t&&(t="sh000001"),this.code=t}return Object(g["a"])(e,[{key:"use",value:function(e){this.request=e}},{key:"handle",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.request.capture(t,"hq_str_"+n);case 2:return r=e.sent,r.includes('"')&&(r=r.split('"')[1]),e.abrupt("return",r.split(","));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"captureCnStock",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.code.toLowerCase(),n="http://hq.sinajs.cn/list=".concat(t),e.next=4,this.handle(n,t);case 4:return r=e.sent,e.abrupt("return",{name:r[0],open:r[1],preclose:r[2],close:r[3],high:r[4],low:r[5],volume:r[8]});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureCnFuture",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="nf_".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(t),e.next=4,this.handle(n,t);case 4:if(r=e.sent,50!==r.length){e.next=7;break}return e.abrupt("return",{name:r[49],open:r[0],preclose:r[14],close:r[3],high:r[1],low:r[2],volume:r[4]});case 7:return e.abrupt("return",{name:r[0],open:r[2],preclose:r[10],close:r[8],high:r[3],low:r[4],volume:r[14]});case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureGlobalFuture",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="hf_".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(t),e.next=4,this.handle(n,t);case 4:return r=e.sent,e.abrupt("return",{name:r[13],open:r[8],preclose:r[7],close:r[0],high:r[4],low:r[5],volume:r[14]});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureGlobalForex",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(t),e.next=4,this.handle(n,t);case 4:return r=e.sent,e.abrupt("return",{name:r[9],open:r[5],preclose:r[3],close:r[8],high:r[6],low:r[7],volume:0});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureGlobalCoin",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="btc_".concat(this.code.toLowerCase()),n="http://hq.sinajs.cn/list=".concat(t),e.next=4,this.handle(n,t);case 4:return r=e.sent,e.abrupt("return",{name:r[9],open:r[5],preclose:r[3],close:r[8],high:r[6],low:r[7],volume:r[10]});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),A=(n("d6de"),n("8d0f"),n("68b8"),n("9a51"),n("f3b8"),n("defa"),n("918c"),function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;Object(y["a"])(this,e),Object(k["a"])(this,"code",void 0),Object(k["a"])(this,"level",void 0),Object(k["a"])(this,"length",100),Object(k["a"])(this,"request",void 0),this.code=t,this.level=n,this.length=r}return Object(g["a"])(e,[{key:"use",value:function(e){this.request=e}},{key:"captureCnStock",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var n;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.level=e.LEVEL_CN_STOCK[this.level],n="https://quotes.sina.cn/cn/api/jsonp.php/_=/CN_MarketDataService.getKLineData?symbol=".concat(this.code,"&scale=").concat(this.level,"&ma=no&datalen=").concat(this.length),t.abrupt("return",this.handle(n));case 3:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"captureCnFuture",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.LEVEL_CN_FUTURE[this.level],r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/InnerFuturesNewService.getFewMinLine?symbol=".concat(this.code,"&type=").concat(n),["day","week","month"].includes(this.level)&&(r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/InnerFuturesNewService.getDailyKLine?symbol=".concat(this.code)),t.abrupt("return",this.handle(r));case 4:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"captureGlobalFuture",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var n,r;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.LEVEL_GLOBAL[this.level],r="https://gu.sina.cn/ft/api/jsonp.php/_=/GlobalService.getMink?symbol=".concat(this.code,"&type=").concat(n),["day","week","month"].includes(this.level)&&(r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/GlobalFuturesService.getGlobalFuturesDailyKLine?symbol=".concat(this.code)),t.abrupt("return",this.handle(r));case 4:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"captureGlobalForex",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var n,r,s,i,a,o,c,u,h,l,p,f,d,b,y;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.LEVEL_GLOBAL[this.level],!["day","week","month"].includes(this.level)){t.next=33;break}return r="https://vip.stock.finance.sina.com.cn/forex/api/jsonp.php/_=/NewForexService.getDayKLine?symbol=".concat(this.code),t.next=5,this.request.capture(r,"_");case 5:for(s=t.sent,i="/*<script>location.href='//sina.com';<\/script>*/_=(\"",a='");',s=s.startsWith(i)&&s.endsWith(a)?s.slice(i.length+1,-a.length):s.slice(1,-1),o=[],c=s.split("|"),u=!0,h=!1,l=void 0,t.prev=14,p=c[Symbol.iterator]();!(u=(f=p.next()).done);u=!0)d=f.value,b=d.split(","),o.push({d:b[0],o:b[1],l:b[2],h:b[3],c:b[4],volume:0});t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](14),h=!0,l=t.t0;case 22:t.prev=22,t.prev=23,u||null==p["return"]||p["return"]();case 25:if(t.prev=25,!h){t.next=28;break}throw l;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return t.abrupt("return",this.handle(r,o));case 33:return y="https://vip.stock.finance.sina.com.cn/forex/api/jsonp.php/_=/NewForexService.getOldMinKline?symbol=".concat(this.code,"&scale=").concat(n,"&datalen=14400"),t.abrupt("return",this.handle(y));case 35:case"end":return t.stop()}}),t,this,[[14,18,22,30],[23,,25,29]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"captureGlobalCoin",value:function(){var t=Object(b["a"])(v.a.mark((function t(){var n,r,s,i,a,o,c,u,h,l,p,f,d,b,y,g;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.LEVEL_GLOBAL[this.level],!["day","week","month"].includes(this.level)){t.next=31;break}return r="https://gu.sina.cn/fx/api/openapi.php/BtcService.getDayKLine?symbol=".concat(this.code),t.next=5,this.request.capture(r,"_","ajax");case 5:for(s=t.sent,i=JSON.parse(s).result.data,a=[],o=i.split("|"),c=!0,u=!1,h=void 0,t.prev=12,l=o[Symbol.iterator]();!(c=(p=l.next()).done);c=!0)f=p.value,d=f.split(","),a.push({d:d[0],o:d[1],l:d[2],h:d[3],c:d[4],volume:0});t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](12),u=!0,h=t.t0;case 20:t.prev=20,t.prev=21,c||null==l["return"]||l["return"]();case 23:if(t.prev=23,!u){t.next=26;break}throw h;case 26:return t.finish(23);case 27:return t.finish(20);case 28:return t.abrupt("return",this.handle(r,a));case 31:return b="https://gu.sina.cn/fx/api/openapi.php/BtcService.getMinKline?symbol=".concat(this.code,"&scale=").concat(n,"&datalen=14400"),t.next=34,this.request.capture(b,"_","ajax");case 34:return y=t.sent,g=JSON.parse(y).result.data,t.abrupt("return",this.handle(b,g));case 37:case"end":return t.stop()}}),t,this,[[12,16,20,28],[21,,23,27]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"handle",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,n){var r,s,i,a,o,c,u,h,l;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=[],n){e.next=5;break}return e.next=4,this.request.capture(t,"_");case 4:n=e.sent;case 5:for("string"===typeof n&&(s="/*<script>location.href='//sina.com';<\/script>*/_=(",i=");",n.startsWith(s)&&n.endsWith(i)&&(r=r.slice(s.length+1,-i.length)),n=JSON.parse(n)),a=!0,o=!1,c=void 0,e.prev=9,u=n[Symbol.iterator]();!(a=(h=u.next()).done);a=!0)l=h.value,r.push({day:l.d||l.date||l.day,close:l.c||l.close,open:l.o||l.open,high:l.h||l.high,low:l.l||l.low,volume:l.v||l.volume});e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),o=!0,c=e.t0;case 17:e.prev=17,e.prev=18,a||null==u["return"]||u["return"]();case 20:if(e.prev=20,!o){e.next=23;break}throw c;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,this,[[9,13,17,25],[18,,20,24]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}());Object(k["a"])(A,"LEVEL_CN_STOCK",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"240",week:"1200",month:"7200",year:"86400"}),Object(k["a"])(A,"LEVEL_CN_FUTURE",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"day",week:"week",month:"month",year:"year"}),Object(k["a"])(A,"LEVEL_GLOBAL",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"day",week:"week",month:"month",year:"year"});n("ef14"),n("cfce");var V=n("cf28"),Y=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"codes",void 0),Object(k["a"])(this,"wss",void 0),Object(k["a"])(this,"url",void 0),Object(k["a"])(this,"pool",{}),Object(k["a"])(this,"callbacks",{open:[],message:[],close:[]}),Object(k["a"])(this,"request",new z),this.request.use("wss",this)}return Object(g["a"])(e,[{key:"code2symbol",value:function(e){return D(e)?e:W(e)?"nf_"+e.toUpperCase():F(e)?e.toUpperCase():H(e)?"btc_"+e.toLowerCase():"hf_"+e.toUpperCase()}},{key:"symbol2code",value:function(e){return e.startsWith("nf_")?e.replace("nf_","").toLowerCase():e.startsWith("hf_")?e.replace("hf_","").toLowerCase():e.startsWith("btc_")?e.replace("btc_","").toLowerCase():e.toLowerCase()}},{key:"start",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n,r,s,i=this;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:this.codes=t,n=t.map((function(e){return i.code2symbol(e)})),r="http:"===location.protocol?"ws://w.sinajs.cn/wskt":"wss://w.sinajs.cn/wskt",s="?list="+n.join(","),this.url=r+s,this.wss=new WebSocket(this.url),this.wss.onopen=function(e){console.log("#SinaStockWss# ".concat(i.url," connection open ...")),i.fire("open")},this.wss.onmessage=function(e){i.onMessage(e.data),i.fire("message")},this.wss.onclose=function(e){console.log("#SinaStockWss# ".concat(i.url," connection close ..."),e.code,e.reason,e.wasClean),i.fire("close"),console.log("#SinaStockWss# wss restart ..."),i.start(i.codes)},this.intervalOfPing=setInterval((function(){i.wss.send("")}),6e4);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onMessage",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n,r,s,i;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.split("="),r=Object(V["a"])(n,2),s=r[0],i=r[1],this.pool[s]=i;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fire",value:function(e){if(this.callbacks[e].length){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=!0,i=!1,a=void 0;try{for(var o,c=this.callbacks[e][Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var u=o.value;u.apply(void 0,n)}}catch(h){i=!0,a=h}finally{try{s||null==c["return"]||c["return"]()}finally{if(i)throw a}}}}},{key:"on",value:function(e,t){this.callbacks[e].push(t)}},{key:"isRunning",value:function(){return this.wss&&1===+this.wss.readyState}},{key:"stop",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.codes=[],this.intervalOfPing&&clearInterval(this.intervalOfPing),e.abrupt("return",this.wss&&this.wss.close());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"response",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.pool[t]);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ohlcvs",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={},e.t0=v.a.keys(this.pool);case 2:if((e.t1=e.t0()).done){e.next=10;break}return n=e.t1.value,r=this.symbol2code(n),e.next=7,this.ohlcv(r);case 7:t[r]=e.sent,e.next=2;break;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ohlcv",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=this.code2symbol(t),this.pool[n]){e.next=4;break}return e.abrupt("return",{});case 4:return e.next=6,this.captureStock(t);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e["catch"](0),console.warn("#SinaWssCrawler# ohlcv ",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureStock",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"1.000001"===t&&(t="sh000001"),n=new N(t),n.use(this.request),!D(t)){e.next=6;break}return e.abrupt("return",n.captureCnStock());case 6:if(!W(t)){e.next=8;break}return e.abrupt("return",n.captureCnFuture());case 8:if(!F(t)){e.next=10;break}return e.abrupt("return",n.captureGlobalForex());case 10:if(!H(t)){e.next=12;break}return e.abrupt("return",n.captureGlobalCoin());case 12:return e.abrupt("return",n.captureGlobalFuture());case 15:e.prev=15,e.t0=e["catch"](0),console.warn("#SinaWssCrawler# capture ".concat(t," fail"),e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),U=n("c206"),I=n.n(U),B=n("86bf"),J=n.n(B),R=function(){function e(t,n){var r=this;Object(y["a"])(this,e),Object(k["a"])(this,"code",void 0),Object(k["a"])(this,"wss",new Y),Object(k["a"])(this,"ohlcvOfLastKline",null),Object(k["a"])(this,"klines",[]),this.code=t,n&&(this.klines=J()(n)),this.wss.on("message",(function(){return r.onMessage.apply(r,arguments)}))}return Object(g["a"])(e,[{key:"start",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.code){e.next=2;break}return e.abrupt("return");case 2:if(this.klines.length){e.next=6;break}return e.next=5,this.load();case 5:this.klines=e.sent;case 6:return this.wss.start([this.code]),e.abrupt("return",this.wss);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"stop",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.code=null,this.wss.stop();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"load",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X.captureKline(this.code,"min1",9999);case 2:return this.klines=e.sent,e.abrupt("return",this.klines);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"all",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.klines);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"last3",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.klines.slice(-3));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"merge",value:function(e,t){e&&t&&(e.high=""+Math.max(e.high,t.close),e.low=""+Math.min(e.low,t.close),e.volume=""+(t.volume-this.ohlcvOfLastKline.volume),e.close=""+t.close)}},{key:"onMessage",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r,s,i;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.wss.ohlcv(this.code);case 2:if(t=e.sent,n=this.klines[this.klines.length-1],this.ohlcvOfLastKline||(this.ohlcvOfLastKline=t),!t||!n){e.next=13;break}if(r=I()().format("YYYYMMDDHHmm"),s=I()(n.day).format("YYYYMMDDHHmm"),i=I()(n.day).add(1,"minutes").format("YYYYMMDDHHmm"),r!==s){e.next=12;break}return this.merge(n,t),e.abrupt("return");case 12:r>=i&&(this.ohlcvOfLastKline=t,this.klines.push({day:I()().format("YYYY-MM-DD HH:mm:00"),open:t.close,close:t.close,high:t.close,low:t.close,volume:"0"}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),$=function(){function e(){Object(y["a"])(this,e)}return Object(g["a"])(e,[{key:"capture",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n,r,s;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="__suggest",r=[11,86,87,71,72],s="//suggest3.sinajs.cn/suggest/?key="+t.toLowerCase()+"&type="+r.join(",")+"&name="+n+"&num=50",e.next=5,K(s);case 5:return e.abrupt("return",window[n]);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"suggest",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n,r,s,i,a,o,c,u,h,l;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.capture(t);case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",[]);case 5:for(r=[],s=n.split(";"),i=!0,a=!1,o=void 0,e.prev=10,c=s[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)h=u.value,l=h.split(","),r.push({name:l[4]||l[5],code:l[3]});e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](10),a=!0,o=e.t0;case 18:e.prev=18,e.prev=19,i||null==c["return"]||c["return"]();case 21:if(e.prev=21,!a){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e,this,[[10,14,18,26],[19,,21,25]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Q=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"request",new z),Object(k["a"])(this,"wss",new Y),Object(k["a"])(this,"search",new $),Object(k["a"])(this,"wssKlineGenerator",{})}return Object(g["a"])(e,[{key:"use",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jsonp";this.request.use(e)}},{key:"suggest",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.search.suggest(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startWss",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.wss.start(t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopWss",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.wss.stop();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startWssKline",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,n){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"1.000001"===t&&(t="sh000001"),this.wssKlineGenerator[t]=new R(t,n),e.abrupt("return",this.wssKlineGenerator[t].start());case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"stopWssKline",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.wssKlineGenerator[t]&&this.wssKlineGenerator[t].stop();case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureStock",value:function(){var e=Object(b["a"])(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"1.000001"===t&&(t="sh000001"),!this.wss.isRunning()){e.next=8;break}return e.next=5,this.wss.ohlcv(t);case 5:if(n=e.sent,!n){e.next=8;break}return e.abrupt("return",n);case 8:if(r=new N(t),r.use(this.request),console.log("#SinaStockCrawler# capture ".concat(t," ")),!D(t)){e.next=13;break}return e.abrupt("return",r.captureCnStock());case 13:if(!W(t)){e.next=15;break}return e.abrupt("return",r.captureCnFuture());case 15:if(!F(t)){e.next=17;break}return e.abrupt("return",r.captureGlobalForex());case 17:if(!H(t)){e.next=19;break}return e.abrupt("return",r.captureGlobalCoin());case 19:return e.abrupt("return",r.captureGlobalFuture());case 22:e.prev=22,e.t0=e["catch"](0),console.warn("#SinaStockCrawler# capture ".concat(t," fail"),e.t0);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureKline",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,n,r){var s;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"1.000001"===t&&(t="sh000001"),console.log("#SinaKLineCrawler# capture kline ".concat(t," ").concat(n," ").concat(r," ...")),!("min1"===n&&r<10)){e.next=6;break}if(!this.wssKlineGenerator[t]){e.next=6;break}return e.abrupt("return",this.wssKlineGenerator[t].last3());case 6:if(s=new A(t,n,r),s.use(this.request),!D(t)){e.next=10;break}return e.abrupt("return",s.captureCnStock());case 10:if(!W(t)){e.next=12;break}return e.abrupt("return",s.captureCnFuture());case 12:if(!F(t)){e.next=14;break}return e.abrupt("return",s.captureGlobalForex());case 14:if(!H(t)){e.next=16;break}return e.abrupt("return",s.captureGlobalCoin());case 16:return e.abrupt("return",s.captureGlobalFuture());case 19:e.prev=19,e.t0=e["catch"](0),console.warn("#SinaKLineCrawler# capture kline ".concat(t," ").concat(n," ").concat(r," fail"),e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,19]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}(),X=new Q,Z=(n("8f0b"),n("7c6c")),ee=function(){function e(){Object(y["a"])(this,e)}return Object(g["a"])(e,[{key:"hasGap",value:function(e,t){return+e.high<+t.low||+e.low>+t.high}},{key:"hasContain",value:function(e,t,n){return"forward"===n?+e.high>=+t.high&&+e.low<=+t.low:"backward"===n?+e.high<=+t.high&&+e.low>=+t.low:+e.high<=+t.high&&+e.low>=+t.low||+e.high>=+t.high&&+e.low<=+t.low}}]),e}(),te=new ee,ne=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"klines",[]),Object(k["a"])(this,"typings",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(e,[{key:"parse",value:function(e){this.klines=e,this.typings=[],this.points=[],this.parseGap(),this.parseContain(),this.parseTyping()}},{key:"parseGap",value:function(){for(var e=[],t=0;t<=this.klines.length-2;t++){var n=this.klines.slice(t,t+2),r=Object(V["a"])(n,2),s=r[0],i=r[1];if(e.push(s),te.hasGap(s,i)){var a=Object.assign({},i);+s.high<+i.low&&(a.low=s.high,a.high=i.low,a.open=s.high,a.close=i.low),+s.low>+i.high&&(a.low=i.high,a.high=s.low,a.open=s.low,a.close=i.high),a&&e.push(a)}}this.klines=e}},{key:"parseContain",value:function(){for(var e=this.klines.slice(0,2),t=2;t<=this.klines.length-1;t++){var n=e.slice(-2),r=Object(V["a"])(n,2),s=r[0],i=r[1],a=this.klines[t];te.hasContain(i,a)?+s.high<+i.high?(+i.high<+a.high?i.day=a.day:i.day=i.day,i.high=""+Math.max(+i.high,+a.high),i.low=""+Math.max(+i.low,+a.low)):(+i.low>+a.low?i.day=a.day:i.day=i.day,i.high=""+Math.min(+i.high,+a.high),i.low=""+Math.min(+i.low,+a.low)):e.push(a)}this.klines=e}},{key:"parseTyping",value:function(){for(var e,t,n=this,r=[],s=0;s<=this.klines.length-3;s++){var i=this.klines.slice(s,s+3),a=Object(V["a"])(i,3),o=a[0],c=a[1],u=a[2];e=null,+o.high<+c.high&&+u.high<+c.high&&(e={point:[c.day,+c.high],type:"top",kline:c,kindex:s+1}),+o.low>+c.low&&+u.low>+c.low&&(e={point:[c.day,+c.low],type:"bottom",kline:c,kindex:s+1}),e&&r.push(e)}["top","bottom"].forEach((function(s){e=null,n.typings=[];for(var i=0;i<=r.length-1;i++)if(e)if(t=r[i],t.type!==e.type){if(+e.kline.high>=+t.kline.high&&+e.kline.low<=+t.kline.low)continue;n.typings.push(t)}else n.typings.push(t),+e.kline.high>=+t.kline.high&&+e.kline.low<=+t.kline.low||(e=t);else r[i].type===s&&(e=r[i]),n.typings.push(r[i]);r=n.typings}));for(var h=0;h<r.length;h++)this.typings[h].index=h}},{key:"toPoints",value:function(){this.points=[];var e=!0,t=!1,n=void 0;try{for(var r,s=this.typings[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;this.points.push([].concat(Object(Z["a"])(i.point),[i.tip||""]))}}catch(a){t=!0,n=a}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw n}}return this.points}}]),e}(),re=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"klines",[]),Object(k["a"])(this,"typings",[]),Object(k["a"])(this,"strokes",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(e,[{key:"isValidStroke",value:function(e,t){if(!e||!t)return!1;if(e.type===t.type)return!1;if(t.kindex-e.kindex<4)return!1;if(t.kindex-e.kindex===4){if("top"===e.type)return this.klines[e.kindex+1].low>this.klines[e.kindex+2].low&&this.klines[e.kindex+2].low>this.klines[e.kindex+3].low;if("bottom"===e.type)return this.klines[e.kindex+1].high<this.klines[e.kindex+2].high&&this.klines[e.kindex+2].high<this.klines[e.kindex+3].high}var n=this.typings[e.index+1],r=this.typings[t.index+1];return!(t.index-e.index===3&&n.kindex-e.kindex<=3&&n.type!==e.type)||("top"===e.type&&t.point[1]<=n.point[1]||"bottom"===e.type&&t.point[1]>=n.point[1]||!this.isValidStroke(n,r))}},{key:"testValidStroke",value:function(e,t,n){var r=this.typings[n+1],s=this.typings[n+2];return this.isValidStroke(e,r)||this.isValidStroke(e,s)}},{key:"parse",value:function(e,t){this.klines=e,this.typings=t,this.strokes=[],this.points=[];for(var n={styping:this.typings[0],etyping:this.typings[0],type:""},r=0;r<this.typings.length;r++){var s=this.typings[r];if(s.kindex-n.styping.kindex<3){if(s.type===n.styping.type&&("top"===n.styping.type&&n.styping.point[1]<s.point[1]||"bottom"===n.styping.type&&n.styping.point[1]>s.point[1])){n.styping=s,n.etyping=s;continue}}else if(s.type!==n.styping.type&&("top"===n.styping.type&&n.etyping.point[1]>s.point[1]||"bottom"===n.styping.type&&n.etyping.point[1]<s.point[1]?n.etyping=s:this.isValidStroke(n.styping,n.etyping)||(n.etyping=s)),s.type===n.styping.type){if(!this.isValidStroke(n.etyping,s)){if(("top"===n.styping.type&&n.styping.point[1]<s.point[1]||"bottom"===n.styping.type&&n.styping.point[1]>s.point[1])&&!this.testValidStroke(n.etyping,s,r)){var i=this.strokes[this.strokes.length-1];if(i&&("top"===n.styping.type&&n.etyping.point[1]>i.styping.point[1]||"bottom"===n.styping.type&&n.etyping.point[1]<i.styping.point[1])){this.strokes.pop(),i.etyping=s,n=i;continue}}continue}if(("top"===n.styping.type&&n.etyping.point[1]<s.point[1]||"bottom"===n.styping.type&&n.etyping.point[1]>s.point[1])&&this.isValidStroke(n.styping,n.etyping)){+n.etyping.point[1]>+n.styping.point[1]?n.type="up":n.type="down",this.strokes.push(n),n={styping:n.etyping,etyping:s,type:""};continue}}}n.tip=" 虚笔",n.styping!==n.etyping||(n.etyping=this.typings[this.typings.length-1]),this.strokes.push(n);for(var a=0;a<this.strokes.length;a++)this.strokes[a].index=a}},{key:"toPoints",value:function(){this.points=[];var e=!0,t=!1,n=void 0;try{for(var r,s=this.strokes[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;i.tip&&i.tip.includes("虚笔")||this.points.push(i.styping.point,[].concat(Object(Z["a"])(i.etyping.point),[i.macd,i.tip||""]))}}catch(a){t=!0,n=a}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw n}}return this.points}},{key:"toPoints2",value:function(){var e=this.strokes[this.strokes.length-1];return e.tip&&e.tip.includes("虚笔")?[e.styping.point,[].concat(Object(Z["a"])(e.etyping.point),[e.macd,e.tip||""])]:[]}}]),e}(),se=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"strokes",[]),Object(k["a"])(this,"segments",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(e,[{key:"merge",value:function(e,t,n){var r={};return"up"===n?(r.high=""+Math.max(+e.high,+t.high),r.low=""+Math.max(+e.low,+t.low)):(r.high=""+Math.min(+e.high,+t.high),r.low=""+Math.min(+e.low,+t.low)),r}},{key:"hasGap",value:function(e,t,n,r,s){var i;if(!t||!n)return!1;if(!s){for(var a=e.index+1;a<n.sindex;a+=2){var o=this.strokes[a],c="up"===r?Math.max:Math.min,u="up"===r?o.styping.kline.high:o.styping.kline.low;i=i?c(u,i):u}return"up"===r?i<n.low:i>n.high}i=null;for(var h=t.sindex+2;h<=n.sindex;h+=2){var l=this.strokes[h],p="up"===r?Math.min:Math.max,f="up"===r?l.etyping.kline.low:l.etyping.kline.high;i=i?p(f,i):f}return"up"===r?i>t.high:i<t.low}},{key:"parse",value:function(e){if(this.strokes=e,this.segments=[],this.points=[],this.strokes.length){for(var t,n=[],r=!1,s=this.strokes[0].type,i={sstroke:this.strokes[0],estroke:this.strokes[0],type:s},a=1;a<=this.strokes.length-3;a++){var o=this.strokes.slice(a,a+7),c=Object(V["a"])(o,7),u=c[0],h=c[1],l=c[2],p=c[3],f=c[4],d=c[5],v=c[6],b=function(e){return"up"===e.type?{high:e.etyping.point[1],low:e.styping.point[1],sindex:e.index}:{high:e.styping.point[1],low:e.etyping.point[1],sindex:e.index}},y=b(u),g=b(h),k=b(l),w=(p&&b(p),f?b(f):null);d&&b(d),v&&b(v);if(l.type!==s)if(t){var m=this.segments[this.segments.length-1];if(r&&m&&n.length<2){var j=m.estroke.etyping;if("up"===s&&j.point[1]>k.low||"down"===s&&j.point[1]<k.high){m.estroke=l,r=!1,this.segments.pop(),i=m,n=[],s=m.type,t=g;continue}}if(r&&te.hasContain(t,k,"backward")&&n.length<2)"down"===s?(t.high=""+Math.min(+t.high,+k.high),t.low=""+Math.min(+t.low,+k.low)):(t.high=""+Math.max(+t.high,+k.high),t.low=""+Math.max(+t.low,+k.low)),t.sindex=l.index,t.isMerged=!0;else if(te.hasContain(t,k,"forward"))t=this.merge(t,k,s),t.sindex=l.index,t.isMerged=!0;else if(te.hasContain(t,k,"backward"))n[0]=t,n[1]=k,t=k,i.estroke=h;else if("up"===s&&t.high<k.high||"down"===s&&t.low>k.low)n[0]=t,n[1]=k,t=k,i.estroke=h;else if("up"===s&&t.high>k.high||"down"===s&&t.low<k.low){if(n.length<2){n[0]=t,n[1]=k,t=k,i.estroke=h;continue}w&&n[0]&&n[1]&&(r=this.hasGap(i.sstroke,n[0],n[1],s,t.isMerged),!r&&te.hasContain(k,w,"forward")&&(a+=1)),this.segments.push(i);var x=i.estroke,O=this.strokes[x.index+1];i={sstroke:O,estroke:O,type:"up"===s?"down":"up"},n=[],s="up"===s?"down":"up",t=g}else;}else t=y}this.segments.shift(),i.tip=" 虚段",i.sstroke!==i.estroke||(i.estroke=this.strokes[this.strokes.length-1]),this.segments.push(i);for(var _=0;_<this.segments.length;_++)this.segments[_].index=_}}},{key:"toPoints",value:function(){this.points=[];var e=!0,t=!1,n=void 0;try{for(var r,s=this.segments[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;i.tip&&i.tip.includes("虚段")||this.points.push(i.sstroke.styping.point,[].concat(Object(Z["a"])(i.estroke.etyping.point),[i.macd,i.tip||""]))}}catch(a){t=!0,n=a}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw n}}return this.points}},{key:"toPoints2",value:function(){var e=this.segments[this.segments.length-1];return e.tip&&e.tip.includes("虚段")?[e.sstroke.styping.point,[].concat(Object(Z["a"])(e.estroke.etyping.point),[e.macd,e.tip||""])]:[]}}]),e}(),ie=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"segments",[]),Object(k["a"])(this,"boxes",[]),Object(k["a"])(this,"points",[])}return Object(g["a"])(e,[{key:"isCoincide",value:function(e){return this.range(e)}},{key:"isExpand",value:function(e,t){var n=this.merge(e.range,t.range);return!n&&(e.range.top<t.range.bottom&&e.range.high>=t.range.low||e.range.bottom>t.range.top&&e.range.low<=t.range.high)}},{key:"isTrend",value:function(e,t){return!this.merge(e.range,t.range)}},{key:"merge",value:function(e,t){var n={};return!(e.bottom>t.top||e.top<t.bottom)&&(n.top=Math.min(e.top,t.top),n.bottom=Math.max(e.bottom,t.bottom),n.high=Math.max(e.high,t.high),n.low=Math.min(e.low,t.low),n)}},{key:"range",value:function(e){if(!(e.length<3)){for(var t,n=0;n<=e.length-3;n++){var r=e.slice(n,n+3),s=Object(V["a"])(r,3),i=s[0],a=s[1],o=s[2],c=void 0;if(i.estroke.etyping.point[1]!==a.sstroke.styping.point[1]||a.estroke.etyping.point[1]!==o.sstroke.styping.point[1])return!1;if("up"===i.type&&i.sstroke.styping.point[1]<o.estroke.etyping.point[1]&&(c={top:Math.min(i.estroke.etyping.point[1],o.estroke.etyping.point[1]),high:a.sstroke.styping.point[1],bottom:Math.max(i.sstroke.styping.point[1],o.sstroke.styping.point[1]),low:a.estroke.etyping.point[1]}),"down"===i.type&&i.sstroke.styping.point[1]>o.estroke.etyping.point[1]&&(c={top:Math.min(i.sstroke.styping.point[1],o.sstroke.styping.point[1]),high:a.estroke.etyping.point[1],bottom:Math.max(i.estroke.etyping.point[1],o.estroke.etyping.point[1]),low:a.sstroke.styping.point[1]}),!c)return!1;if(t){if(t=this.merge(t,c),!t)return!1}else t=c}return t}}},{key:"parse",value:function(e,t){var n;this.segments=e,this.trends=t,this.boxes=[];for(var r=0;r<=this.segments.length-3;r++){var s=this.segments.slice(r,r+3),i=Object(V["a"])(s,3),a=i[0],o=i[1],c=i[2];e=n?[].concat(Object(Z["a"])(n.segments),[c]):[a,o,c];var u=this.range(e);if(u){n?n.esegment=c:n={type:a.type,ssegment:a,esegment:c},n.range=u,n.segments=e,n.isLevelUp=e.length>=11;var h=this.boxes[this.boxes.length-1];if(h){var l=this.isExpand(h,n);n.isExpand=l}}else n&&n.segments.length>=5&&this.boxes.push(n),n=null}n&&n.segments.length>=5&&this.boxes.push(n);for(var p=0;p<this.boxes.length;p++)if(this.boxes[p].index=p,t){var f=!0,d=!1,v=void 0;try{for(var b,y=t[Symbol.iterator]();!(f=(b=y.next()).done);f=!0){var g=b.value,k=g.sstroke.index,w=g.estroke.index,m=this.boxes[p].ssegment.index,j=this.boxes[p].esegment.index;if(k<=m&&j<=w){g.box||(g.box=[]),g.box.push(this.boxes[p]);break}}}catch(x){d=!0,v=x}finally{try{f||null==y["return"]||y["return"]()}finally{if(d)throw v}}}}},{key:"toPoints",value:function(){this.points=[];var e=!0,t=!1,n=void 0;try{for(var r,s=this.boxes[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value,a=[[i.ssegment.estroke.styping.point[0],i.range.top],[i.esegment.sstroke.etyping.point[0],i.range.top],[i.esegment.sstroke.etyping.point[0],i.range.bottom],[i.ssegment.estroke.styping.point[0],i.range.bottom],[i.isExpand?"扩张":"",i.isLevelUp?"九段":""]];this.points.push(a)}}catch(o){t=!0,n=o}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw n}}return this.points}}]),e}();n("11fd");function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=[],r=e.length;if(0===r||t<=0)return n;var s=e[0];n.push(s);for(var i=e[0],a=t*(t+1)/2,o=1;o<r;o++){if(o<t){i+=e[o];for(var c=0,u=0,h=0;h<=o;h++)c+=e[o-h]*(t-h),u+=t-h;s=c/u}else s+=(t*e[o]-i)/a,i+=e[o]-e[o-t];n.push(s)}return n}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.length,r=[];if(0===n||t<=0)return r;var s=2/(t+1),i=e[0];r.push(i);for(var a=1;a<n;a++)i=s*e[a]+(1-s)*i,r.push(i);return r}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=[],r=e.length;if(0===r||t<=0)return n;var s=e[0];n.push(s);for(var i=1;i<r;i++){if(i<t){for(var a=e[0],o=1;o<=i;o++)a+=e[o];s=a/(i+1)}else s+=(e[i]-e[i-t])/t;n.push(s)}return n}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:9,s=e.length,i=[],a=[],o=[];if(0===s)return{dif:i,dea:o,bar:a};for(var c=oe(e,t),u=oe(e,n),h=0;h<s;h++)i.push(c[h]-u[h]);o=oe(i,r);for(var l=0;l<s;l++)a.push(2*(i[l]-o[l]));return{dif:i,dea:o,bar:a}}var he={macd:ue,ema:oe,wma:ae,ma:ce},le=function(){function e(){Object(y["a"])(this,e)}return Object(g["a"])(e,[{key:"macd",value:function(e){for(var t=[],n={},r=0;r<e.length;r++)t.push(+e[r].close),n[e[r].day]=r;var s=he.macd(t);return s.map=n,s}},{key:"isDivergence",value:function(e,t){return Math.abs(e)>Math.abs(t)}},{key:"segments",value:function(e,t){var n=!0,r=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c=o.sstroke.styping.point[0],u=o.estroke.etyping.point[0],h=t.map[c],l=t.map[u],p=this.calcArea(t,h,l);this.toTip(o,p)}}catch(f){r=!0,s=f}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}}},{key:"strokes",value:function(e,t){var n=!0,r=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c=o.styping.point[0],u=o.etyping.point[0],h=t.map[c],l=t.map[u],p=this.calcArea(t,h,l);this.toTip(o,p)}}catch(f){r=!0,s=f}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}}},{key:"calcArea",value:function(e,t,n){var r={red:0,green:0};if(e&&e.bar&&!(e.bar.length<n)){for(var s=t;s<=n;s++){var i=e.bar[s];i>0?r.red+=+i:r.green+=+i}return r}}},{key:"toTip",value:function(e,t){e.macd=this.toString(t,e)}},{key:"toString",value:function(e,t){return"up"===t.type?e.red.toFixed(2):e.green.toFixed(2)}},{key:"toString2",value:function(e){return"Red: ".concat(e.red.toFixed(2)," Green: ").concat(e.green.toFixed(2))}}]),e}(),pe=new le,fe=function(){function e(){Object(y["a"])(this,e),Object(k["a"])(this,"klines",[]),Object(k["a"])(this,"twist",{}),Object(k["a"])(this,"parsers",{typing:null,stroke:null,segment:null,trend:null,strokebox:null,segmentbox:null,trendbox:null})}return Object(g["a"])(e,[{key:"init",value:function(e){this.klines=J()(e),this.parsers.typing=new ne,this.parsers.stroke=new re,this.parsers.segment=new se,this.parsers.trend=new se,this.parsers.strokebox=new ie,this.parsers.segmentbox=new ie,this.parsers.trendbox=new ie}},{key:"segment2stroke",value:function(e){var t=[],n=!0,r=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c={type:o.type,styping:o.sstroke.styping,etyping:o.estroke.etyping,index:t.length};t.push(c)}}catch(u){r=!0,s=u}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}return t}},{key:"stroke2segment",value:function(e){var t=[],n=!0,r=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,c={type:o.type,sstroke:o,estroke:o,index:t.length};t.push(c)}}catch(u){r=!0,s=u}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}return t}},{key:"update",value:function(e){return this.klines.length===e.length?(this.twist.macd=pe.macd(e),this.twist):this.parse(e)}},{key:"parse",value:function(e){this.init(e),this.parsers.typing.parse(this.klines),this.parsers.stroke.parse(this.parsers.typing.klines,this.parsers.typing.typings),this.parsers.segment.parse(this.parsers.stroke.strokes),this.parsers.trend.parse(this.segment2stroke(this.parsers.segment.segments)),this.parsers.strokebox.parse(this.stroke2segment(this.parsers.stroke.strokes),this.parsers.segment.segments),this.parsers.segmentbox.parse(this.parsers.segment.segments,this.parsers.trend.segments),this.parsers.trendbox.parse(this.parsers.trend.segments);var t=pe.macd(e);return pe.strokes(this.parsers.stroke.strokes,t),pe.segments(this.parsers.segment.segments,t),pe.segments(this.parsers.trend.segments,t),this.twist={typing:this.parsers.typing.toPoints(),stroke:this.parsers.stroke.toPoints(),segment:this.parsers.segment.toPoints(),trend:this.parsers.trend.toPoints(),vstroke:this.parsers.stroke.toPoints2(),vsegment:this.parsers.segment.toPoints2(),vtrend:this.parsers.trend.toPoints2(),strokebox:this.parsers.strokebox.toPoints(),segmentbox:this.parsers.segmentbox.toPoints(),trendbox:this.parsers.trendbox.toPoints(),macd:t},this.twist}}]),e}(),de=new fe,ve=function(){function e(){Object(y["a"])(this,e)}return Object(g["a"])(e,[{key:"captureKline",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,r,s){var i,a,o;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={min1:function(){return n.e("chunk-2d22bcca").then(n.t.bind(null,"f109",3))},min5:function(){return n.e("chunk-2d0cf120").then(n.t.bind(null,"61c2",3))},min15:function(){return n.e("chunk-2d0a47b9").then(n.t.bind(null,"0740",3))},min30:function(){return n.e("chunk-2d0c7e69").then(n.t.bind(null,"531f",3))},min60:function(){return n.e("chunk-2d0a4bd7").then(n.t.bind(null,"0870",3))},min120:function(){return n.e("chunk-2d0e9724").then(n.t.bind(null,"8e23",3))},min240:function(){return n.e("chunk-2d2225d6").then(n.t.bind(null,"cdfe",3))},day:function(){return n.e("chunk-2d0efd59").then(n.t.bind(null,"9a94",3))}},e.next=3,i[r]();case 3:return a=e.sent,o=a["default"],e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}(),be=new ve,ye=function(){function e(t){var n=t.isHS;Object(y["a"])(this,e),Object(k["a"])(this,"isHS",!1),this.isHS=n}return Object(g["a"])(e,[{key:"generate",value:function(e,t){var n=null,r=[],s=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var u=o.value;u=Object.assign({},u),n?I()(u.day)[e]()===I()(n.day)[e]()?(n.high=+(u.high>n.high?u.high:n.high),n.low=+(u.low<n.low?u.low:n.low),n.close=+u.close,n.day=u.day,n.volume+=+u.volume):(r.push(n),n=u,n.volume=+n.volume):(n=u,n.volume=+n.volume)}}catch(h){i=!0,a=h}finally{try{s||null==c["return"]||c["return"]()}finally{if(i)throw a}}return r.push(n),r}},{key:"week",value:function(e){return this.generate("week",e)}},{key:"month",value:function(e){return this.generate("month",e)}},{key:"year",value:function(e){return this.generate("year",e)}}]),e}();Object(k["a"])(ye,"LEVEL",{week:"week",month:"month",year:"year"});var ge=function(){function e(t){var n=t.isHS;Object(y["a"])(this,e),Object(k["a"])(this,"isHS",!1),this.isHS=n}return Object(g["a"])(e,[{key:"generate",value:function(e,t){for(var n=null,r=[],s=0;s<t.length;s++){var i=Object.assign({},t[s]);if(n){if(60===e&&this.isHS){var a=I()(i.day).format("HH:mm");if(["09:31","10:31","13:01","14:01"].includes(a)){r.push(n),n=i,n.volume=+n.volume;continue}}else if(I()(i.day).minute()%e===1){r.push(n),n=i,n.volume=+n.volume;continue}n.high=+(i.high>n.high?i.high:n.high),n.low=+(i.low<n.low?i.low:n.low),n.close=+i.close,n.day=i.day,n.volume+=+i.volume}else{var o=I()(i.day).minute();if(o%e!==1)continue;n=i,n.volume=+n.volume}}return r.push(n),r}},{key:"min5",value:function(e){return this.generate(5,e)}},{key:"min15",value:function(e){return this.generate(15,e)}},{key:"min30",value:function(e){return this.generate(30,e)}},{key:"min60",value:function(e){return this.generate(60,e)}}]),e}();Object(k["a"])(ge,"LEVEL",{min5:5,min15:15,min30:30,min60:60});var ke=function(){function e(t){Object(y["a"])(this,e),Object(k["a"])(this,"klines",{min:[],day:[]}),Object(k["a"])(this,"generator",{min:null,day:null}),Object(k["a"])(this,"code",void 0),Object(k["a"])(this,"length",1e4),Object(k["a"])(this,"timestamp",0),Object(k["a"])(this,"interval",10),Object(k["a"])(this,"intervalId",-1),Object(k["a"])(this,"crawler",void 0),Object(k["a"])(this,"wss",void 0),Object(k["a"])(this,"isHS",!0),this.code="sh000001"===t?"1.000001":t,this.isHS=["sz","sh"].includes(this.code.slice(0,2)),this.generator.min=new ge({isHS:this.isHS}),this.generator.day=new ye({isHS:this.isHS}),this.crawler=window.__is_twist_mock?be:X}return Object(g["a"])(e,[{key:"now",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.crawler.captureStock(this.code));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t,n,r,s,i,a,o,c,u;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.crawler.captureKline(this.code,"min1",3);case 2:for(t=e.sent,n=!0,r=!1,s=void 0,e.prev=6,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)o=a.value,c=new Date(this.timestamp).getTime(),u=new Date(o.day).getTime(),u===c&&(this.klines.min[this.klines.min.length-1]=o),u>c&&(this.klines.min.push(o),this.timestamp=o.day);e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),r=!0,s=e.t0;case 14:e.prev=14,e.prev=15,n||null==i["return"]||i["return"]();case 17:if(e.prev=17,!r){e.next=20;break}throw s;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"loop",value:function(){var e=Object(b["a"])(v.a.mark((function e(t,n){var r=this;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.__is_twist_mock){e.next=2;break}return e.abrupt("return");case 2:if(this.klines.min.length){e.next=5;break}return e.next=5,this.min1();case 5:return e.next=7,this.crawler.startWssKline(this.code,this.klines.min);case 7:this.wss=e.sent,this.intervalId=setInterval(Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.update();case 2:return e.next=4,n();case 4:case"end":return e.stop()}}),e)}))),1e3*(t||this.interval));case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"stop",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:clearInterval(this.intervalId),this.wss&&this.crawler.stopWssKline(this.code);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"min1",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.klines.min.length){e.next=2;break}return e.abrupt("return",this.klines.min);case 2:return e.next=4,this.crawler.captureKline(this.code,"min1",this.length);case 4:return this.klines.min=e.sent,this.timestamp=this.klines.min[this.klines.min.length-1].day,e.abrupt("return",this.klines.min);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"min5",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.min1();case 2:if(t=e.sent,!(t.length/5>1023)){e.next=5;break}return e.abrupt("return",this.generator.min.min5(t));case 5:return e.abrupt("return",this.crawler.captureKline(this.code,"min5",this.length));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"min15",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.crawler.captureKline(this.code,"min15",this.length));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"min30",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.crawler.captureKline(this.code,"min30",this.length));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"min60",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.crawler.captureKline(this.code,"min60",this.length));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"min120",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.crawler.captureKline(this.code,"min120",this.length));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"min240",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.crawler.captureKline(this.code,"min240",this.length));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"day",value:function(){var e=Object(b["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.klines.day.length){e.next=2;break}return e.abrupt("return",this.klines.day);case 2:return e.next=4,this.crawler.captureKline(this.code,"day",this.length);case 4:return this.klines.day=e.sent,e.abrupt("return",this.klines.day);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"week",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.day();case 2:return t=e.sent,e.abrupt("return",this.generator.day.week(t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"month",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.day();case 2:return t=e.sent,e.abrupt("return",this.generator.day.month(t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"year",value:function(){var e=Object(b["a"])(v.a.mark((function e(){var t;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.day();case 2:return t=e.sent,e.abrupt("return",this.generator.day.year(t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"create",value:function(){var t=Object(b["a"])(v.a.mark((function t(n){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new e(n));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();window.__Walle_Stock_Twist={crawler:ke,indicator:he,processor:de,sina:X},"#/"===location.hash&&(window.__is_twist_mock=!0),window.console.log=function(){},r["default"].config.productionTip=!1;var we=new r["default"]({router:a,render:function(e){return e(f)}}).$mount("#walle-app");console.info("Walle Quant Twist [".concat(20210210210347,"] Works ..."));t["default"]=we},2:function(e,t){},3113:function(e,t,n){var r={"./af":"f064","./af.js":"f064","./ar":"35c3","./ar-dz":"d68a","./ar-dz.js":"d68a","./ar-kw":"49cd","./ar-kw.js":"49cd","./ar-ly":"1b3b","./ar-ly.js":"1b3b","./ar-ma":"847d","./ar-ma.js":"847d","./ar-sa":"bb68","./ar-sa.js":"bb68","./ar-tn":"e4cc","./ar-tn.js":"e4cc","./ar.js":"35c3","./az":"6555","./az.js":"6555","./be":"9106","./be.js":"9106","./bg":"fa7e","./bg.js":"fa7e","./bm":"4d38","./bm.js":"4d38","./bn":"6881","./bn.js":"6881","./bo":"4166","./bo.js":"4166","./br":"890a","./br.js":"890a","./bs":"10be","./bs.js":"10be","./ca":"bddf","./ca.js":"bddf","./cs":"2bed","./cs.js":"2bed","./cv":"26dd","./cv.js":"26dd","./cy":"b168","./cy.js":"b168","./da":"61c1","./da.js":"61c1","./de":"04a6","./de-at":"3aaf","./de-at.js":"3aaf","./de-ch":"8476","./de-ch.js":"8476","./de.js":"04a6","./dv":"c3c1","./dv.js":"c3c1","./el":"b526","./el.js":"b526","./en-SG":"706c","./en-SG.js":"706c","./en-au":"1e0c","./en-au.js":"1e0c","./en-ca":"6724","./en-ca.js":"6724","./en-gb":"7b16","./en-gb.js":"7b16","./en-ie":"c8ac","./en-ie.js":"c8ac","./en-il":"4c1e","./en-il.js":"4c1e","./en-nz":"883c","./en-nz.js":"883c","./eo":"e1bb","./eo.js":"e1bb","./es":"18d3","./es-do":"47b9","./es-do.js":"47b9","./es-us":"36cb","./es-us.js":"36cb","./es.js":"18d3","./et":"64e8","./et.js":"64e8","./eu":"9050","./eu.js":"9050","./fa":"f028","./fa.js":"f028","./fi":"bdc3","./fi.js":"bdc3","./fo":"f188","./fo.js":"f188","./fr":"63c2","./fr-ca":"b7e6","./fr-ca.js":"b7e6","./fr-ch":"48f5","./fr-ch.js":"48f5","./fr.js":"63c2","./fy":"4f73","./fy.js":"4f73","./ga":"368c","./ga.js":"368c","./gd":"1896","./gd.js":"1896","./gl":"31d0","./gl.js":"31d0","./gom-latn":"e63d","./gom-latn.js":"e63d","./gu":"7d8d","./gu.js":"7d8d","./he":"0020","./he.js":"0020","./hi":"dd6a","./hi.js":"dd6a","./hr":"3a73","./hr.js":"3a73","./hu":"1109","./hu.js":"1109","./hy-am":"30d7","./hy-am.js":"30d7","./id":"d32a","./id.js":"d32a","./is":"4e63","./is.js":"4e63","./it":"c43f","./it-ch":"7e84","./it-ch.js":"7e84","./it.js":"c43f","./ja":"8ce9","./ja.js":"8ce9","./jv":"94eb","./jv.js":"94eb","./ka":"0403","./ka.js":"0403","./kk":"88d8","./kk.js":"88d8","./km":"4d4c","./km.js":"4d4c","./kn":"850c","./kn.js":"850c","./ko":"64d6","./ko.js":"64d6","./ku":"4b44","./ku.js":"4b44","./ky":"24ef","./ky.js":"24ef","./lb":"be7f","./lb.js":"be7f","./lo":"8272","./lo.js":"8272","./lt":"e8f0","./lt.js":"e8f0","./lv":"60a7","./lv.js":"60a7","./me":"7774","./me.js":"7774","./mi":"8539","./mi.js":"8539","./mk":"7df5","./mk.js":"7df5","./ml":"7a32","./ml.js":"7a32","./mn":"448b","./mn.js":"448b","./mr":"08f2","./mr.js":"08f2","./ms":"7791","./ms-my":"b784","./ms-my.js":"b784","./ms.js":"7791","./mt":"d4a5","./mt.js":"d4a5","./my":"2ec3","./my.js":"2ec3","./nb":"87e5","./nb.js":"87e5","./ne":"d894","./ne.js":"d894","./nl":"8ec6","./nl-be":"fa1e","./nl-be.js":"fa1e","./nl.js":"8ec6","./nn":"9a1d","./nn.js":"9a1d","./pa-in":"3ba6","./pa-in.js":"3ba6","./pl":"f017","./pl.js":"f017","./pt":"0c38","./pt-br":"b879","./pt-br.js":"b879","./pt.js":"0c38","./ro":"6da0","./ro.js":"6da0","./ru":"79cb","./ru.js":"79cb","./sd":"7bd2","./sd.js":"7bd2","./se":"0994","./se.js":"0994","./si":"4cee","./si.js":"4cee","./sk":"2be2","./sk.js":"2be2","./sl":"40ae","./sl.js":"40ae","./sq":"bf74","./sq.js":"bf74","./sr":"35dc","./sr-cyrl":"3c6b","./sr-cyrl.js":"3c6b","./sr.js":"35dc","./ss":"d81f","./ss.js":"d81f","./sv":"585e","./sv.js":"585e","./sw":"e15b","./sw.js":"e15b","./ta":"770d","./ta.js":"770d","./te":"e0c0","./te.js":"e0c0","./tet":"fe18","./tet.js":"fe18","./tg":"3e85","./tg.js":"3e85","./th":"398d","./th.js":"398d","./tl-ph":"502f","./tl-ph.js":"502f","./tlh":"7162","./tlh.js":"7162","./tr":"12a6","./tr.js":"12a6","./tzl":"7cdf","./tzl.js":"7cdf","./tzm":"e9c6","./tzm-latn":"a5d0","./tzm-latn.js":"a5d0","./tzm.js":"e9c6","./ug-cn":"27e4","./ug-cn.js":"27e4","./uk":"e8e9","./uk.js":"e8e9","./ur":"40d1","./ur.js":"40d1","./uz":"84bc","./uz-latn":"2aa3","./uz-latn.js":"2aa3","./uz.js":"84bc","./vi":"1272","./vi.js":"1272","./x-pseudo":"5bb75","./x-pseudo.js":"5bb75","./yo":"4038","./yo.js":"4038","./zh-cn":"6e33","./zh-cn.js":"6e33","./zh-hk":"2450","./zh-hk.js":"2450","./zh-tw":"c410","./zh-tw.js":"c410"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id="3113"},c3e8:function(e,t,n){},e5cd:function(e,t,n){"use strict";var r=n("c3e8"),s=n.n(r);s.a}});