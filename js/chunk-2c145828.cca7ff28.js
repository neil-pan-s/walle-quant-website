(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c145828","chunk-4b34864e","chunk-59acecc4"],{"07ac":function(e,t,n){var r=n("23e7"),c=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return c(e)}})},"6f53":function(e,t,n){var r=n("83ab"),c=n("df75"),s=n("fc6a"),a=n("d1e7").f,i=function(e){return function(t){var n,i=s(t),u=c(i),o=u.length,f=0,h=[];while(o>f)n=u[f++],r&&!a.call(i,n)||h.push(e?[n,i[n]]:i[n]);return h}};e.exports={entries:i(!0),values:i(!1)}},"6fd1":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("caad"),n("a15b"),n("fb6a"),n("b680"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("2532"),n("1276");var r=n("b85c"),c=(n("96cf"),n("1da1")),s=n("d4ec"),a=n("bee2"),i=n("ade3"),u=n("3662"),o=n("704f"),f=function(e){return new Promise((function(t){setTimeout(t,e)}))},h=function(){function e(){Object(s["a"])(this,e),Object(i["a"])(this,"intervel",void 0),Object(i["a"])(this,"isUseJsonp",!1),Object(i["a"])(this,"crawler",{sina:new o["d"],eastmoney:new o["b"]}),Object(i["a"])(this,"weights",{}),Object(i["a"])(this,"groups",{}),Object(i["a"])(this,"globals",{})}return Object(a["a"])(e,[{key:"captureIndexWeight",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,c,s,a,i,o,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="https://datainterface.eastmoney.com/EM_DataCenter/JS.aspx?type=SHSZZS&sty=SHSZZS&st=2&sr=-1&p=1&ps=500&js=var%20bSLQbtLZ={pages:(pc),data:[(x)]}&code=".concat(t),e.next=3,Object(u["a"])(n,null,document.querySelector("#scripts"));case 3:this.weights[t]={},c=Object(r["a"])(window.bSLQbtLZ.data);try{for(c.s();!(s=c.n()).done;)a=s.value,i=a.split(","),o=["00","30","12"].includes(i[0].slice(0,2))?"0.":"1.",f=o+i[0],h={code:f,name:i[1],weight:+i[12],change:+i[16]},this.weights[t][f]=h}catch(l){c.e(l)}finally{c.f()}return e.abrupt("return",Object.values(this.weights[t]));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureGroupWeight",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,c,s,a,i,o,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,t.includes(".")&&(n=t.split(".")[1]),c="https://push2.eastmoney.com/api/qt/clist/get?cb=var%20bSLQbtLZ=&pn=1&pz=500&po=1&np=1&fltt=2&invt=2&fid=f20&fs=b:".concat(n,"+f:!50&fields=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f12,f13,f14,f15,f16,f17,f18,f20,f21,f23,f24,f25,f22,f11,f62,f128,f136,f115,f152,f45"),e.next=5,Object(u["a"])(c,null,document.querySelector("#scripts"));case 5:this.weights[t]={},s=Object(r["a"])(window.bSLQbtLZ.data.diff);try{for(s.s();!(a=s.n()).done;)i=a.value,o=+i.f20/5e11,f=i.f13+"."+i.f12,this.weights[t][f]={code:f,name:i.f14,weight:o,change:+i.f3}}catch(h){s.e(h)}finally{s.f()}return e.abrupt("return",Object.values(this.weights[t]));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureWeight",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!["000016","000300","000905"].includes(t)){e.next=2;break}return e.abrupt("return",this.captureIndexWeight(t));case 2:return e.abrupt("return",this.captureGroupWeight(t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureGroups",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,c,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="https://push2.eastmoney.com/api/qt/clist/get?cb=var%20bSLQbtLZ=&pn=1&pz=50&po=1&np=1&fltt=2&invt=2&fid=f20&fs=m:90+t:2+f:!50&fields=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f12,f13,f14,f15,f16,f17,f18,f20,f21,f23,f24,f25,f26,f22,f33,f11,f62,f128,f136,f115,f152,f124,f107,f104,f105,f140,f141,f207,f208,f209,f222",e.next=3,Object(u["a"])(t,null,document.querySelector("#scripts"));case 3:this.groups={},n=Object(r["a"])(window.bSLQbtLZ.data.diff);try{for(n.s();!(c=n.n()).done;)s=c.value,a=+s.f20/1e12,i=s.f13+"."+s.f12,this.groups[i]={code:i,name:s.f14,weight:a,change:+s.f3}}catch(o){n.e(o)}finally{n.f()}return e.abrupt("return",Object.values(this.groups));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureGlobals",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,c,s,a,i,o,f,h,l,b,p,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="hf_CHA50CFD,hf_YM,hf_VX,nf_T0,sh000001,sz399001,sz399006,sh000688,gb_dji,gb_ixic,gb_inx,znb_VIX,gb_eem,hkHSI,znb_NKY,znb_KOSPI,znb_UKX,znb_DAX,znb_CAC,znb_SX5E,znb_AS51,znb_GSPTSE,znb_XAX,znb_N100,znb_AEX,znb_BEL20,znb_IBOV,znb_IBEX,znb_INDEXCF,znb_MXX,znb_SBX,znb_SWI20,znb_IPSA,znb_JCI,znb_CASE,znb_FBMEMAS,znb_MAR,znb_VN30,znb_TWJQ,fx_susdcny,hf_CL,hf_GC,hf_SI,DINIW,btc_btcbtcusd,btc_btcethusd,btc_btcdogeusd,btc_btcusdtusd".split(","),n="https://hq.sinajs.cn/list=".concat(t.join(",")),e.next=4,Object(u["a"])(n,null,document.querySelector("#scripts"));case 4:c=[],s=Object(r["a"])(t);try{for(s.s();!(a=s.n()).done;){i=a.value;try{o=window["hq_str_".concat(i)].split(","),f=void 0,h=void 0,l=void 0,b=void 0,p=void 0,f=o[0],["gb_dji","gb_ixic","gb_inx","gb_eem"].includes(i)?(h=+o[1],b=+o[2],l=+o[4]):["sh000001","sz399001","sz399006","sh000688"].includes(i)?(h=+o[3],p=+o[2],l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):"hkHSI"===i?(f=o[1],h=+o[6],b=+o[8],l=+o[7]):["hf_CL","hf_GC","hf_SI","hf_CHA50CFD","hf_YM","hf_VX"].includes(i)?(f=o[13],h=+o[0],p=+o[7],l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):["fx_susdcny","DINIW","btc_btcbtcusd","btc_btcethusd","btc_btcdogeusd","btc_btcusdtusd"].includes(i)?(f=o[9],h=+o[8],p=+o[3],"btc_btcdogeusd"===i&&(h*=100,p*=100),l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):["nf_T0"].includes(i)?(f=o[49],h=+o[3],p=+o[14],l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):(h=+o[1],b=+o[3],l=+o[2]),d={code:i,name:f,point:l,price:h,change:b},this.globals[i]=d,c.push(d)}catch(g){}}}catch(v){s.e(v)}finally{s.f()}return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hookOfWeight",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var s,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.weights[t]){e.next=3;break}return e.next=3,this.captureWeight(t);case 3:return s=Object.keys(this.weights[t]),e.next=6,this.crawler.eastmoney.startSse(s);case 6:return e.next=8,this.crawler.eastmoney.keepAlive();case 8:return e.abrupt("return",Object(c["a"])(regeneratorRuntime.mark((function e(){var c,i,u,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.crawler.eastmoney.stocks(s);case 2:c=e.sent,i=Object(r["a"])(c);try{for(i.s();!(u=i.n()).done;)o=u.value,o.weight=a.weights[t][o.code].weight,Object.assign(a.weights[t][o.code],o)}catch(f){i.e(f)}finally{i.f()}n(Object.values(a.weights[t]));case 6:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"hookOfGroup",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object.keys(this.groups).length){e.next=3;break}return e.next=3,this.captureGroups();case 3:return n=Object.keys(this.groups),e.next=6,this.crawler.eastmoney.startSse(n);case 6:return e.next=8,this.crawler.eastmoney.keepAlive();case 8:return e.abrupt("return",Object(c["a"])(regeneratorRuntime.mark((function e(){var c,a,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.crawler.eastmoney.stocks(n);case 2:c=e.sent,a=Object(r["a"])(c);try{for(a.s();!(i=a.n()).done;)u=i.value,Object.assign(s.groups[u.code],u)}catch(o){a.e(o)}finally{a.f()}t(Object.values(s.groups));case 6:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hookOfGlobal",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object.keys(this.globals).length){e.next=3;break}return e.next=3,this.captureGlobals();case 3:return n=Object.keys(this.globals),e.next=6,this.crawler.sina.startWss(n);case 6:return e.abrupt("return",Object(c["a"])(regeneratorRuntime.mark((function e(){var c,a,i,u,o,f,h,l,b,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.crawler.sina.request(n);case 2:c=e.sent,a=Object(r["a"])(n),e.prev=4,a.s();case 6:if((i=a.n()).done){e.next=22;break}if(u=i.value,e.prev=8,c[u]){e.next=11;break}return e.abrupt("continue",20);case 11:o=c[u].split(","),f=void 0,h=void 0,l=void 0,b=void 0,p=void 0,f=o[0],["gb_dji","gb_ixic","gb_inx","gb_eem"].includes(u)?(h=+o[1],b=+o[2],l=+o[4]):["sh000001","sz399001","sz399006","sh000688"].includes(u)?(h=+o[3],p=+o[2],l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):"hkHSI"===u?(f=o[1],h=+o[6],b=+o[8],l=+o[7]):["hf_CL","hf_GC","hf_SI","hf_CHA50CFD","hf_YM","hf_VX"].includes(u)?(f=o[13],h=+o[0],p=+o[7],l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):["fx_susdcny","DINIW","btc_btcbtcusd","btc_btcethusd","btc_btcdogeusd","btc_btcusdtusd"].includes(u)?(f=o[9],h=+o[8],p=+o[3],"btc_btcdogeusd"===u&&(h*=100,p*=100),l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):["nf_T0"].includes(u)?(f=o[49],h=+o[3],p=+o[14],l=(h-p).toFixed(2),b=0===h?0:+((h-p)/p*100).toFixed(2)):(h=+o[1],b=+o[3],l=+o[2]),s.globals[u]={code:u,name:f,point:l,price:h,change:b},e.next=20;break;case 18:e.prev=18,e.t0=e["catch"](8);case 20:e.next=6;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](4),a.e(e.t1);case 27:return e.prev=27,a.f(),e.finish(27);case 30:t(Object.values(s.globals));case 31:case"end":return e.stop()}}),e,null,[[4,24,27,30],[8,18]])}))));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,a,i,u=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:function(){},e.prev=1,e.next=4,this.crawler.sina.stopWss();case 4:return e.next=6,this.crawler.eastmoney.stopSse();case 6:if(!this.isUseJsonp){e.next=11;break}a={group:function(){return u.captureGroups()},global:function(){return u.captureGlobals()},weight:function(){return u.captureWeight(n)}},s=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a[t]();case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=17;break;case 11:return i={group:function(){return u.hookOfGroup(r)},global:function(){return u.hookOfGlobal(r)},weight:function(){return u.hookOfWeight(n,r)}},e.next=14,i[t]();case 14:return s=e.sent,e.next=17,f(500);case 17:return e.next=19,s();case 19:clearInterval(this.intervel),this.intervel=setInterval(Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("."),s();case 2:case"end":return e.stop()}}),e)}))),5e3),e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](1),console.warn("#Market# ",e.t0);case 26:case"end":return e.stop()}}),e,this,[[1,23]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"stop",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return clearInterval(this.intervel),e.next=3,this.crawler.sina.stopWss();case 3:return e.next=5,this.crawler.eastmoney.stopSse();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["b"]=new h},"856b":function(e,t,n){"use strict";n("b679")},b64b:function(e,t,n){var r=n("23e7"),c=n("7b0b"),s=n("df75"),a=n("d039"),i=a((function(){s(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(e){return s(c(e))}})},b679:function(e,t,n){},e843:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"matrix"},[n("ul",{staticClass:"nav"},[n("li",{class:{selected:"000016"===e.selected},on:{click:function(t){return e.select("000016")}}},[e._v("上证50")]),n("li",{class:{selected:"000300"===e.selected},on:{click:function(t){return e.select("000300")}}},[e._v("沪深300")]),n("li",{class:{selected:"000905"===e.selected},on:{click:function(t){return e.select("000905")}}},[e._v("中证500")]),n("li",{class:{selected:"group"===e.selected},on:{click:function(t){return e.select("group")}}},[e._v("板块50")]),e.choosed?n("li",{staticClass:"selected"},[e._v(e._s(e.choosed))]):e._e()]),n("ui-chart",{ref:"chart",on:{choose:e.choose}}),n("p",{staticClass:"tips"},[e._v("数据实时更新，纵轴为涨幅, 横轴为权重。(红涨绿跌, 圆圈越大权重越大)")])],1)},c=[],s=(n("b0c0"),n("6fd1")),a={data:function(){return{selected:"000300",choosed:""}},mounted:function(){var e=this;setTimeout((function(){e.$nextTick((function(){return e.select("000300")}))}),500)},destroyed:function(){s["b"].stop()},methods:{select:function(e,t){var n=this;this.selected=e,this.choosed=t;var r="group"===e?"group":"weight";s["b"].stop(),s["b"].start(r,e,(function(e){n.$refs.chart.update({stocks:e})}))},choose:function(e){var t=e.code,n=e.name;"group"===this.selected&&this.select(t,n)}}},i=a,u=(n("856b"),n("2877")),o=Object(u["a"])(i,r,c,!1,null,"c1fd4e16",null);t["default"]=o.exports}}]);