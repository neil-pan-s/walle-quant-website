(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20ad35dd"],{"06c5":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0"),n("3ca3");var r=n("6b75");function a(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},"1dde":function(e,t,n){var r=n("d039"),a=n("b622"),i=n("2d00"),s=a("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4df4":function(e,t,n){"use strict";var r=n("0366"),a=n("7b0b"),i=n("9bdd"),s=n("e95a"),c=n("50c4"),u=n("8418"),o=n("35a1");e.exports=function(e){var t,n,f,h,l,p,b=a(e),v="function"==typeof this?this:Array,d=arguments.length,w=d>1?arguments[1]:void 0,y=void 0!==w,g=o(b),m=0;if(y&&(w=r(w,d>2?arguments[2]:void 0,2)),void 0==g||v==Array&&s(g))for(t=c(b.length),n=new v(t);t>m;m++)p=y?w(b[m],m):b[m],u(n,m,p);else for(h=g.call(b),l=h.next,n=new v;!(f=l.call(h)).done;m++)p=y?i(h,w,[f.value,m],!0):f.value,u(n,m,p);return n.length=m,n}},"6b75":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"6fd1":function(e,t,n){"use strict";n("caad"),n("fb6a"),n("b680"),n("07ac"),n("ac1f"),n("1276");var r=n("b85c"),a=(n("96cf"),n("1da1")),i=n("d4ec"),s=n("bee2"),c=n("ade3"),u=n("3662");n("a15b");function o(e){if(Array.isArray(e))return e}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function f(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(u){a=!0,i=u}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw i}}return n}}var h=n("06c5");function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return o(e)||f(e,t)||Object(h["a"])(e,t)||l()}var b=function(){function e(t){Object(i["a"])(this,e),Object(c["a"])(this,"url",void 0),Object(c["a"])(this,"wss",void 0),Object(c["a"])(this,"callbacks",{open:[],message:[],close:[]}),Object(c["a"])(this,"retry",0),this.url=t}return Object(s["a"])(e,[{key:"start",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.url){e.next=2;break}return e.abrupt("return");case 2:this.wss=new WebSocket(this.url),this.wss.onopen=function(e){t.fire("open",e),t.retry=0},this.wss.onmessage=function(e){t.fire("message",e)},this.wss.onclose=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.fire("close",n),!(t.retry>=3)){e.next=4;break}return e.next=4,t.wait(t.retry/3*60*1e3);case 4:t.retry++,t.start();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.intervalOfPing=setInterval((function(){t.wss.send("")}),6e4);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"wait",value:function(e){return new Promise((function(t){setTimeout(t,e)}))}},{key:"fire",value:function(e){if(this.callbacks[e].length){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i,s=Object(r["a"])(this.callbacks[e]);try{for(s.s();!(i=s.n()).done;){var c=i.value;c.apply(void 0,n)}}catch(u){s.e(u)}finally{s.f()}}}},{key:"on",value:function(e,t){this.callbacks[e].push(t)}},{key:"isRunning",value:function(){return this.wss&&1===+this.wss.readyState}},{key:"stop",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.url=null,this.callbacks={open:[],message:[],close:[]},this.intervalOfPing&&clearInterval(this.intervalOfPing),e.abrupt("return",this.wss&&this.wss.close());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),v=function(){function e(){Object(i["a"])(this,e),Object(c["a"])(this,"wss",void 0),Object(c["a"])(this,"running",!1),Object(c["a"])(this,"type","wss")}return Object(s["a"])(e,[{key:"use",value:function(e){this.type=e}},{key:"jsonp",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="https://hq.sinajs.cn/list=".concat(t.join(",")),e.next=3,Object(u["a"])(n,null,document.querySelector("#scripts"));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"request",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("wss"!==this.type){e.next=6;break}if(this.isRunning()){e.next=4;break}return e.next=4,this.startWss(t);case 4:e.next=8;break;case 6:return e.next=8,this.jsonp(t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startWss",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return n="http:"===location.protocol?"ws://w.sinajs.cn/wskt":"wss://w.sinajs.cn/wskt",e.next=5,this.stopWss();case 5:return e.next=7,this.jsonp(t);case 7:this.wss=new b(n+"?list="+t.join(",")),this.wss.on("message",(function(e){var t=e.data.split("="),n=p(t,2),r=n[0],a=n[1];window["hq_str_".concat(r)]=a})),this.wss.start(),this.running=!0;case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isRunning",value:function(){return this.running}},{key:"stopWss",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.wss){e.next=3;break}return e.next=3,this.wss.stop();case 3:this.wss=null,this.running=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),d=function(){function e(){Object(i["a"])(this,e),Object(c["a"])(this,"crawler",new v),Object(c["a"])(this,"intervel",void 0),Object(c["a"])(this,"codes",{}),Object(c["a"])(this,"weights",{}),Object(c["a"])(this,"groups",{}),Object(c["a"])(this,"stocks",{}),Object(c["a"])(this,"globals",{})}return Object(s["a"])(e,[{key:"market",value:function(e){var t=e.slice(0,2);return["00","30","12"].includes(t)?"sz":["60","68","11"].includes(t)?"sh":void 0}},{key:"captureStockWeight",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,c,o,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n="https://datainterface.eastmoney.com/EM_DataCenter/JS.aspx?type=SHSZZS&sty=SHSZZS&st=2&sr=-1&p=1&ps=500&js=var%20bSLQbtLZ={pages:(pc),data:[(x)]}&code=".concat(t),e.next=4,Object(u["a"])(n,null,document.querySelector("#scripts"));case 4:this.weights[t]={},this.codes[t]=[],a=Object(r["a"])(window.bSLQbtLZ.data);try{for(a.s();!(i=a.n()).done;)s=i.value,c=s.split(","),o=this.market(c[0])+c[0],f={code:o,name:c[1],weight:+c[12]},this.weights[t][o]=f,this.codes[t].push(o)}catch(h){a.e(h)}finally{a.f()}return e.abrupt("return",this.weights[t]);case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureGroups",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="https://push2.eastmoney.com/api/qt/clist/get?cb=var%20bSLQbtLZ=&pn=1&pz=50&po=1&np=1&fltt=2&invt=2&fid=f20&fs=m:90+t:2+f:!50&fields=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f12,f13,f14,f15,f16,f17,f18,f20,f21,f23,f24,f25,f26,f22,f33,f11,f62,f128,f136,f115,f152,f124,f107,f104,f105,f140,f141,f207,f208,f209,f222",e.next=4,Object(u["a"])(t,null,document.querySelector("#scripts"));case 4:this.groups={},n=Object(r["a"])(window.bSLQbtLZ.data.diff);try{for(n.s();!(a=n.n()).done;)i=a.value,s=+i.f20/1e12,this.groups[i.f14]={code:i.f12,name:i.f14,weight:s,change:+i.f3}}catch(c){n.e(c)}finally{n.f()}return e.abrupt("return",Object.values(this.groups));case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureStocks",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,c,u,o,f,h,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.crawler.request(t);case 3:n=[],a=Object(r["a"])(t);try{for(a.s();!(i=a.n()).done;){s=i.value;try{c=window["hq_str_".concat(s)].split(","),u=c[0],o=+c[2],f=+c[3],h=0===f?0:+((f-o)/o*100).toFixed(2),l={code:s,name:u,close:o,price:f,change:h},this.stocks[s]=l,n.push(l)}catch(p){}}}catch(b){a.e(b)}finally{a.f()}return e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"captureGlobals",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s,c,u,o,f,h,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="sh000001,sz399001,sz399006,gb_dji,gb_ixic,gb_inx,hkHSI,znb_NKY,znb_UKX,znb_DAX,znb_CAC,znb_SX5E,znb_TWJQ,znb_KOSPI,znb_AS51,znb_GSPTSE,znb_XAX,znb_VIX,znb_N100,znb_AEX,znb_BEL20,znb_IBOV,znb_IBEX,znb_INDEXCF,znb_MXX,znb_SBX,znb_SWI20,znb_IPSA,znb_JCI,znb_CASE,znb_FBMEMAS,znb_MAR,znb_VN30".split(","),e.next=4,this.crawler.request(t);case 4:n=[],a=Object(r["a"])(t);try{for(a.s();!(i=a.n()).done;){s=i.value;try{c=window["hq_str_".concat(s)].split(","),u=void 0,o=void 0,f=void 0,h=void 0,u=c[0],["gb_dji","gb_ixic","gb_inx"].includes(s)?(o=+c[1],f=+c[2]):["sh000001","sz399001","sz399006"].includes(s)?(o=+c[3],h=+c[2],f=0===o?0:+((o-h)/h*100).toFixed(2)):"hkHSI"===s?(u=c[1],o=+c[6],f=+c[8]):(o=+c[1],f=+c[3]),l={code:s,name:u,price:o,change:f},this.stocks[s]=l,n.push(l)}catch(p){}}}catch(b){a.e(b)}finally{a.f()}return e.abrupt("return",n);case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"hookOfWeight",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.codes[t]){e.next=3;break}return e.next=3,this.captureStockWeight(t);case 3:return e.abrupt("return",Object(a["a"])(regeneratorRuntime.mark((function e(){var a,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.captureStocks(i.codes[t]);case 2:a=e.sent,s=Object(r["a"])(a);try{for(s.s();!(c=s.n()).done;)u=c.value,u.weight=i.weights[t][u.code].weight}catch(o){s.e(o)}finally{s.f()}n(a);case 6:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"hookOfGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.captureGroups();case 2:r=e.sent,t(r);case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hookOfGloabal",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.captureGlobals();case 2:r=e.sent,t(r);case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:function(){},this.crawler.use("wss"),e.next=4,this.crawler.stopWss();case 4:if(r={group:this.hookOfGroup(n),global:this.hookOfGloabal(n)},!r[t]){e.next=11;break}return e.next=8,r[t];case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,this.hookOfWeight(t,n);case 13:e.t0=e.sent;case 14:return i=e.t0,e.next=17,i();case 17:clearInterval(this.intervel),this.intervel=setInterval(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("."),i();case 2:case"end":return e.stop()}}),e)}))),5e3);case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stop",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return clearInterval(this.intervel),e.next=3,this.crawler.stopWss();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new d},8418:function(e,t,n){"use strict";var r=n("c04e"),a=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?a.f(e,s,i(0,n)):e[s]=n}},"9bdd":function(e,t,n){var r=n("825a"),a=n("2a62");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){throw a(e),s}}},a630:function(e,t,n){var r=n("23e7"),a=n("4df4"),i=n("1c7e"),s=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:a})},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,i=Function.prototype,s=i.toString,c=/^\s*function ([^ (]*)/,u="name";r&&!(u in i)&&a(i,u,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(e){return""}}})},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("06c5");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,s=e},f:function(){try{c||null==n["return"]||n["return"]()}finally{if(u)throw s}}}}},fb6a:function(e,t,n){"use strict";var r=n("23e7"),a=n("861d"),i=n("e8b5"),s=n("23cb"),c=n("50c4"),u=n("fc6a"),o=n("8418"),f=n("b622"),h=n("1dde"),l=n("ae40"),p=h("slice"),b=l("slice",{ACCESSORS:!0,0:0,1:2}),v=f("species"),d=[].slice,w=Math.max;r({target:"Array",proto:!0,forced:!p||!b},{slice:function(e,t){var n,r,f,h=u(this),l=c(h.length),p=s(e,l),b=s(void 0===t?l:t,l);if(i(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?a(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return d.call(h,p,b);for(r=new(void 0===n?Array:n)(w(b-p,0)),f=0;p<b;p++,f++)p in h&&o(r,f,h[p]);return r.length=f,r}})}}]);