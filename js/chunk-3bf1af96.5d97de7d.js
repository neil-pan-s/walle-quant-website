(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bf1af96","chunk-17bddeb7"],{1276:function(e,t,r){"use strict";var a=r("d784"),n=r("44e7"),o=r("825a"),l=r("1d80"),s=r("4840"),i=r("8aa5"),u=r("50c4"),c=r("14c3"),d=r("9263"),b=r("d039"),h=[].push,f=Math.min,g=4294967295,p=!b((function(){return!RegExp(g,"y")}));a("split",2,(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(l(this)),o=void 0===r?g:r>>>0;if(0===o)return[];if(void 0===e)return[a];if(!n(e))return t.call(a,e,o);var s,i,u,c=[],b=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=new RegExp(e.source,b+"g");while(s=d.call(p,a)){if(i=p.lastIndex,i>f&&(c.push(a.slice(f,s.index)),s.length>1&&s.index<a.length&&h.apply(c,s.slice(1)),u=s[0].length,f=i,c.length>=o))break;p.lastIndex===s.index&&p.lastIndex++}return f===a.length?!u&&p.test("")||c.push(""):c.push(a.slice(f)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var n=l(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,n,r):a.call(String(n),t,r)},function(e,n){var l=r(a,e,this,n,a!==t);if(l.done)return l.value;var d=o(e),b=String(this),h=s(d,RegExp),v=d.unicode,w=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"y":"g"),x=new h(p?d:"^(?:"+d.source+")",w),m=void 0===n?g:n>>>0;if(0===m)return[];if(0===b.length)return null===c(x,b)?[b]:[];var C=0,y=0,k=[];while(y<b.length){x.lastIndex=p?y:0;var F,R=c(x,p?b:b.slice(y));if(null===R||(F=f(u(x.lastIndex+(p?0:y)),b.length))===C)y=i(b,y,v);else{if(k.push(b.slice(C,y)),k.length===m)return k;for(var I=1;I<=R.length-1;I++)if(k.push(R[I]),k.length===m)return k;y=C=F}}return k.push(b.slice(C)),k}]}),!p)},1393:function(e,t,r){"use strict";var a=r("23e7"),n=r("857a"),o=r("af03");a({target:"String",proto:!0,forced:o("big")},{big:function(){return n(this,"big","","")}})},"44e7":function(e,t,r){var a=r("861d"),n=r("c6b6"),o=r("b622"),l=o("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==n(e))}},"7e24":function(e,t,r){"use strict";r("bd33")},"857a":function(e,t,r){var a=r("1d80"),n=/"/g;e.exports=function(e,t,r,o){var l=String(a(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(o).replace(n,"&quot;")+'"'),s+">"+l+"</"+t+">"}},af03:function(e,t,r){var a=r("d039");e.exports=function(e){return a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},bd33:function(e,t,r){},c96a:function(e,t,r){"use strict";var a=r("23e7"),n=r("857a"),o=r("af03");a({target:"String",proto:!0,forced:o("small")},{small:function(){return n(this,"small","","")}})},f7a7:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"statistic"},[r("canvas",{ref:"canvas"})])},n=[],o=(r("fb6a"),r("b680"),r("1393"),r("c96a"),r("b85c")),l=(r("96cf"),r("1da1")),s=r("30ef"),i=r.n(s),u=r("704f"),c={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(19, 206, 102)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},d={data:function(){return{chartsInstance:null,config:{type:"line",data:{labels:[],datasets:[]},options:{responsive:!0,legend:{display:!0},title:{display:!0,text:""},animation:{duration:10},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Time"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}}}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$refs.canvas.getContext("2d"),e.chartsInstance=new i.a(r,e.config),e.show();case 3:case"end":return t.stop()}}),t)})))()},watch:{"$route.query.type":function(){this.show()}},methods:{show:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.query.type||"currency",a={currency:function(){return e.showCurrency()},"currency-ratio":function(){return e.showCurrencyRatio()},netinflow:function(){return e.showNetInFlow()},northinflow:function(){return e.showNorthInFlow()},margin:function(){return e.showMargin()}},t.next=4,a[r]();case 4:document.body.scrollTop=0;case 5:case"end":return t.stop()}}),t)})))()},showNetInFlow:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,n,l,s,i,d,b,h,f,g,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new u["c"],a=e.$route.query.symbol||"1.000300",t.next=4,r.request("netinflow",a);case 4:n=t.sent,l={labels:[],datasets:[{label:"主力净流入(亿)",fill:!1,backgroundColor:c.blue,borderColor:c.blue,data:[]},{label:"主力累计净流入(亿)",fill:!1,backgroundColor:c.red,borderColor:c.red,data:[]},{label:"超大单累计净流入(亿)",fill:!1,backgroundColor:c.orange,borderColor:c.orange,data:[]},{label:"大单累计净流入(亿)",fill:!1,backgroundColor:c.yellow,borderColor:c.yellow,data:[]},{label:"中单累计净流入(亿)",fill:!1,backgroundColor:c.purple,borderColor:c.purple,data:[]},{label:"小单累计净流入(亿)",fill:!1,backgroundColor:c.green,borderColor:c.green,data:[]}]},s=0,i=0,d=0,b=0,h=0,f=Object(o["a"])(n);try{for(f.s();!(g=f.n()).done;)p=g.value,l.labels.push(p.time),s+=p.value,i+=p.super,d+=p.big,b+=p.medium,h+=p.small,l.datasets[0].data.push(p.value.toFixed(2)),l.datasets[1].data.push(s.toFixed(2)),l.datasets[2].data.push(i.toFixed(2)),l.datasets[3].data.push(d.toFixed(2)),l.datasets[4].data.push(b.toFixed(2)),l.datasets[5].data.push(h.toFixed(2))}catch(v){f.e(v)}finally{f.f()}e.config.options.title.text="沪深主力净流入统计 (".concat(a,")"),e.update(l);case 11:case"end":return t.stop()}}),t)})))()},showNorthInFlow:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,l,s,i,d,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new u["c"],t.next=3,r.request("northinflow");case 3:return a=t.sent,t.next=6,r.request("southoutflow");case 6:for(n=t.sent,a=a.slice(-200),n=n.slice(-200),o={labels:[],datasets:[{label:"北向净流入(亿)",fill:!1,backgroundColor:c.blue,borderColor:c.blue,data:[]},{label:"北向累计净流入(亿)",fill:!1,backgroundColor:c.red,borderColor:c.red,data:[]},{label:"南向净流入(亿)",fill:!1,backgroundColor:c.yellow,borderColor:c.yellow,data:[]},{label:"南向累计净流入(亿)",fill:!1,backgroundColor:c.orange,borderColor:c.orange,data:[]}]},l=0,s=0,i=0;i<a.length;i++)d=a[i],b=n[i],o.labels.push(d.time),l+=d.value,o.datasets[0].data.push(d.value.toFixed(2)),o.datasets[1].data.push(l.toFixed(2)),s+=b.value,o.datasets[2].data.push(b.value.toFixed(2)),o.datasets[3].data.push(s.toFixed(2));e.config.options.title.text="北向/南向资金统计",e.update(o);case 14:case"end":return t.stop()}}),t)})))()},showMargin:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,n,l,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new u["c"],t.next=3,r.request("margin");case 3:a=t.sent,a=a.slice(-200),n={labels:[],datasets:[{label:"融资融券余额(亿)",fill:!1,backgroundColor:c.blue,borderColor:c.blue,data:[]},{label:"融券余额(亿)",fill:!1,backgroundColor:c.green,borderColor:c.green,data:[]},{label:"融资余额(亿)",fill:!1,backgroundColor:c.red,borderColor:c.red,data:[]}]},l=Object(o["a"])(a);try{for(l.s();!(s=l.n()).done;)i=s.value,n.labels.push(i.time),n.datasets[0].data.push(i.rzrqye.toFixed(2)),n.datasets[1].data.push(i.rqye.toFixed(2)),n.datasets[2].data.push(i.rzye.toFixed(2))}catch(d){l.e(d)}finally{l.f()}e.config.options.title.text="融资融券余额统计",e.update(n);case 10:case"end":return t.stop()}}),t)})))()},showCurrency:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,n,l,s,i,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new u["a"],t.next=3,r.request("month");case 3:a=t.sent,n={labels:[],datasets:[{label:"央行净投放(亿)",fill:!1,backgroundColor:c.blue,borderColor:c.blue,data:[]},{label:"央行累计净投放(亿)",fill:!1,backgroundColor:c.red,borderColor:c.red,data:[]}]},l=0,s=Object(o["a"])(a);try{for(s.s();!(i=s.n()).done;)d=i.value,n.labels.push(d.time),l+=d.value,n.datasets[0].data.push(d.value.toFixed(2)),n.datasets[1].data.push(l.toFixed(2))}catch(b){s.e(b)}finally{s.f()}e.config.options.title.text="央行货币净投放与净回笼统计",e.update(n);case 10:case"end":return t.stop()}}),t)})))()},showCurrencyRatio:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,n,l,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new u["c"],t.next=3,r.request("currency");case 3:a=t.sent,n={labels:[],datasets:[{label:"M2(亿)",fill:!1,backgroundColor:c.purple,borderColor:c.purple,data:[]},{label:"M1(亿)",fill:!1,backgroundColor:c.blue,borderColor:c.blue,data:[]},{label:"M0(亿)",fill:!1,backgroundColor:c.yellow,borderColor:c.yellow,data:[]},{label:"流动性比率(M1/M2)%",fill:!1,backgroundColor:c.red,borderColor:c.red,data:[]},{label:"M2同比增长(%)",fill:!1,backgroundColor:c.green,borderColor:c.green,data:[]},{label:"M1同比增长(%)",fill:!1,backgroundColor:c.orange,borderColor:c.orange,data:[]},{label:"M0同比增长(%)",fill:!1,backgroundColor:c.gray,borderColor:c.gray,data:[]}]},l=Object(o["a"])(a);try{for(l.s();!(s=l.n()).done;)i=s.value,n.labels.push(i.time),n.datasets[0].data.push(i.m2.value.toFixed(2)),n.datasets[1].data.push(i.m1.value.toFixed(2)),n.datasets[2].data.push(i.m0.value.toFixed(2)),n.datasets[3].data.push((i.m1.value/i.m2.value).toFixed(2)),n.datasets[4].data.push(i.m2.ratioY.toFixed(2)),n.datasets[5].data.push(i.m1.ratioY.toFixed(2)),n.datasets[6].data.push(i.m0.ratioY.toFixed(2))}catch(d){l.e(d)}finally{l.f()}e.config.options.title.text="货币流动性比率统计",e.update(n);case 9:case"end":return t.stop()}}),t)})))()},destory:function(){this.chartsInstance&&this.chartsInstance.destroy()},clear:function(){this.chartsInstance&&this.update({stocks:[]})},update:function(e){var t=e.labels,r=e.datasets;this.config.data.labels=t,this.config.data.datasets=r,this.chartsInstance&&this.chartsInstance.update(this.config)}}},b=d,h=(r("7e24"),r("2877")),f=Object(h["a"])(b,a,n,!1,null,"bb2c8b58",null);t["default"]=f.exports}}]);