(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2b1d7a8"],{1393:function(e,t,a){"use strict";var r=a("23e7"),o=a("857a"),n=a("af03");r({target:"String",proto:!0,forced:n("big")},{big:function(){return o(this,"big","","")}})},4886:function(e,t,a){"use strict";a("98f9")},"857a":function(e,t,a){var r=a("1d80"),o=/"/g;e.exports=function(e,t,a,n){var l=String(r(e)),s="<"+t;return""!==a&&(s+=" "+a+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+l+"</"+t+">"}},"98f9":function(e,t,a){},af03:function(e,t,a){var r=a("d039");e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},c96a:function(e,t,a){"use strict";var r=a("23e7"),o=a("857a"),n=a("af03");r({target:"String",proto:!0,forced:n("small")},{small:function(){return o(this,"small","","")}})},f7a7:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"statistic"},[a("canvas",{ref:"canvas"})])},o=[],n=(a("fb6a"),a("b680"),a("1393"),a("c96a"),a("b85c")),l=(a("96cf"),a("1da1")),s=a("30ef"),u=a.n(s),i=a("0ff3"),d={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(19, 206, 102)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},c={data:function(){return{chartsInstance:null,config:{type:"line",data:{labels:[],datasets:[]},options:{responsive:!0,legend:{display:!0},title:{display:!0,text:""},animation:{duration:10},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Time"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}}}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.$refs.canvas.getContext("2d"),e.chartsInstance=new u.a(a,e.config),e.show();case 3:case"end":return t.stop()}}),t)})))()},watch:{"$route.query.type":function(){this.show()}},methods:{show:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.query.type||"currency",r={currency:function(){return e.showCurrency()},"currency-ratio":function(){return e.showCurrencyRatio()},netinflow:function(){return e.showNetInFlow()},northinflow:function(){return e.showNorthInFlow()},margin:function(){return e.showMargin()}},t.next=4,r[a]();case 4:document.body.scrollTop=0;case 5:case"end":return t.stop()}}),t)})))()},showNetInFlow:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r,o,l,s,u,c,b,f,h,p,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new i["b"],r=e.$route.query.symbol||"1.000300",t.next=4,a.request("netinflow",r);case 4:o=t.sent,l={labels:[],datasets:[{label:"主力净流入(亿)",fill:!1,backgroundColor:d.blue,borderColor:d.blue,data:[]},{label:"主力累计净流入(亿)",fill:!1,backgroundColor:d.red,borderColor:d.red,data:[]},{label:"超大单累计净流入(亿)",fill:!1,backgroundColor:d.orange,borderColor:d.orange,data:[]},{label:"大单累计净流入(亿)",fill:!1,backgroundColor:d.yellow,borderColor:d.yellow,data:[]},{label:"中单累计净流入(亿)",fill:!1,backgroundColor:d.purple,borderColor:d.purple,data:[]},{label:"小单累计净流入(亿)",fill:!1,backgroundColor:d.green,borderColor:d.green,data:[]}]},s=0,u=0,c=0,b=0,f=0,h=Object(n["a"])(o);try{for(h.s();!(p=h.n()).done;)g=p.value,l.labels.push(g.time),s+=g.value,u+=g.super,c+=g.big,b+=g.medium,f+=g.small,l.datasets[0].data.push(g.value.toFixed(2)),l.datasets[1].data.push(s.toFixed(2)),l.datasets[2].data.push(u.toFixed(2)),l.datasets[3].data.push(c.toFixed(2)),l.datasets[4].data.push(b.toFixed(2)),l.datasets[5].data.push(f.toFixed(2))}catch(w){h.e(w)}finally{h.f()}e.config.options.title.text="沪深主力净流入统计 (".concat(r,")"),e.update(l);case 11:case"end":return t.stop()}}),t)})))()},showNorthInFlow:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r,o,n,l,s,u,c,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new i["b"],t.next=3,a.request("northinflow");case 3:return r=t.sent,t.next=6,a.request("southoutflow");case 6:for(o=t.sent,r=r.slice(-200),o=o.slice(-200),n={labels:[],datasets:[{label:"北向净流入(亿)",fill:!1,backgroundColor:d.blue,borderColor:d.blue,data:[]},{label:"北向累计净流入(亿)",fill:!1,backgroundColor:d.red,borderColor:d.red,data:[]},{label:"南向净流入(亿)",fill:!1,backgroundColor:d.yellow,borderColor:d.yellow,data:[]},{label:"南向累计净流入(亿)",fill:!1,backgroundColor:d.orange,borderColor:d.orange,data:[]}]},l=0,s=0,u=0;u<r.length;u++)c=r[u],b=o[u],n.labels.push(c.time),l+=c.value,n.datasets[0].data.push(c.value.toFixed(2)),n.datasets[1].data.push(l.toFixed(2)),s+=b.value,n.datasets[2].data.push(b.value.toFixed(2)),n.datasets[3].data.push(s.toFixed(2));e.config.options.title.text="北向/南向资金统计",e.update(n);case 14:case"end":return t.stop()}}),t)})))()},showMargin:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r,o,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new i["b"],t.next=3,a.request("margin");case 3:r=t.sent,r=r.slice(-200),o={labels:[],datasets:[{label:"融资融券余额(亿)",fill:!1,backgroundColor:d.blue,borderColor:d.blue,data:[]},{label:"融券余额(亿)",fill:!1,backgroundColor:d.green,borderColor:d.green,data:[]},{label:"融资余额(亿)",fill:!1,backgroundColor:d.red,borderColor:d.red,data:[]}]},l=Object(n["a"])(r);try{for(l.s();!(s=l.n()).done;)u=s.value,o.labels.push(u.time),o.datasets[0].data.push(u.rzrqye.toFixed(2)),o.datasets[1].data.push(u.rqye.toFixed(2)),o.datasets[2].data.push(u.rzye.toFixed(2))}catch(c){l.e(c)}finally{l.f()}e.config.options.title.text="融资融券余额统计",e.update(o);case 10:case"end":return t.stop()}}),t)})))()},showCurrency:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r,o,l,s,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new i["a"],t.next=3,a.request("month");case 3:r=t.sent,o={labels:[],datasets:[{label:"央行净投放(亿)",fill:!1,backgroundColor:d.blue,borderColor:d.blue,data:[]},{label:"央行累计净投放(亿)",fill:!1,backgroundColor:d.red,borderColor:d.red,data:[]}]},l=0,s=Object(n["a"])(r);try{for(s.s();!(u=s.n()).done;)c=u.value,o.labels.push(c.time),l+=c.value,o.datasets[0].data.push(c.value.toFixed(2)),o.datasets[1].data.push(l.toFixed(2))}catch(b){s.e(b)}finally{s.f()}e.config.options.title.text="央行货币净投放与净回笼统计",e.update(o);case 10:case"end":return t.stop()}}),t)})))()},showCurrencyRatio:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r,o,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new i["b"],t.next=3,a.request("currency");case 3:r=t.sent,o={labels:[],datasets:[{label:"M2(亿)",fill:!1,backgroundColor:d.purple,borderColor:d.purple,data:[]},{label:"M1(亿)",fill:!1,backgroundColor:d.blue,borderColor:d.blue,data:[]},{label:"M0(亿)",fill:!1,backgroundColor:d.yellow,borderColor:d.yellow,data:[]},{label:"流动性比率(M1/M2)%",fill:!1,backgroundColor:d.red,borderColor:d.red,data:[]},{label:"M2同比增长(%)",fill:!1,backgroundColor:d.green,borderColor:d.green,data:[]},{label:"M1同比增长(%)",fill:!1,backgroundColor:d.orange,borderColor:d.orange,data:[]},{label:"M0同比增长(%)",fill:!1,backgroundColor:d.gray,borderColor:d.gray,data:[]}]},l=Object(n["a"])(r);try{for(l.s();!(s=l.n()).done;)u=s.value,o.labels.push(u.time),o.datasets[0].data.push(u.m2.value.toFixed(2)),o.datasets[1].data.push(u.m1.value.toFixed(2)),o.datasets[2].data.push(u.m0.value.toFixed(2)),o.datasets[3].data.push((u.m1.value/u.m2.value).toFixed(2)),o.datasets[4].data.push(u.m2.ratioY.toFixed(2)),o.datasets[5].data.push(u.m1.ratioY.toFixed(2)),o.datasets[6].data.push(u.m0.ratioY.toFixed(2))}catch(c){l.e(c)}finally{l.f()}e.config.options.title.text="货币流动性比率统计",e.update(o);case 9:case"end":return t.stop()}}),t)})))()},destory:function(){this.chartsInstance&&this.chartsInstance.destroy()},clear:function(){this.chartsInstance&&this.update({stocks:[]})},update:function(e){var t=e.labels,a=e.datasets;this.config.data.labels=t,this.config.data.datasets=a,this.chartsInstance&&this.chartsInstance.update(this.config)}}},b=c,f=(a("4886"),a("2877")),h=Object(f["a"])(b,r,o,!1,null,"19968470",null);t["default"]=h.exports}}]);